<p-toast position="top-right"></p-toast>

<!-- <p-card> -->
    <div *ngIf="prescriptiveTree" class="col-md-12">
        <button *ngIf="FinalUpdate" label="Back" type="button" class="btn btn-dark" style="float: right;" data-toggle="modal" data-target="#treeModal">Update</button> <br><br>
        <button *ngIf="FinalBack" label="Back" type="button" class="btn btn-dark"(click)="BaxkToAssetList()" pTooltip="Back to Asset List" tooltipPosition="top"> <i class="fas fa-arrow-left"></i> Back</button>
        <button *ngIf="AddFailureMode" type="button" class="btn btn-dark" style="float: right" (click)="AddFailureModeToTree()" pTooltip="If you want to update the tree click this Button" tooltipPosition="top"><i class="pi pi-plus"></i> Failure Mode</button><br><br>
    </div><br>
    <div *ngIf="prescriptiveTree" class="col-md-12" style="overflow: scroll;" id="prescriptive"> 
        <p-organizationChart [value]="data1" (onNodeSelect)="onNodeSelect($event)" styleClass="company">
            <ng-template let-node pTemplate="person">
                <div class="node-header p-corner-top">
                    {{node.label}}
                    <a class="edit-org-bttn" *ngIf="node.edit !== undefined && node.edit" (click)="SelectNodeToUpdate(node)" pTooltip="Edit Node" tooltipPosition="top"><i class="pi pi-pencil"></i></a>
                    <a class="delete-org-bttn" *ngIf="node.delete !== undefined && node.delete" (click)="SelectNodeToDelete(node)" data-toggle="modal" data-target="#DeleteFailureMode" pTooltip="Delete Node" tooltipPosition="top"><i class="pi pi-times"></i></a>
                    <a class="viewFCA-org-bttn" pTooltip="Select Node To view and edit" tooltipPosition="top" *ngIf="node.viewFCA !== undefined && node.viewFCA" (click)="SelectNodeToView(node)"><i class="fa fa-eye" aria-hidden="true"></i></a>
                    <a class="editMSS-org-bttn" pTooltip="Edit MSS" tooltipPosition="top" *ngIf="node.editMSS !== undefined && node.editMSS" (click)="SelectNodeToEditMSS(node)"><i class="pi pi-pencil"></i></a>
                </div>
                <div class="node-content">
                    <div class="a">{{node.data.name}}</div>
                </div>
            </ng-template>
            <ng-template let-node pTemplate="department">
                {{node.label}}
            </ng-template>
        </p-organizationChart>
    </div>
<!-- </p-card> -->

<div id="ScrollUpdateTree5" class="modal fade" id="treeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Tree Update</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="modal-body">
                Are you sure you want to Update the tree
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="UpdateChanges()">Save changes</button>
            </div>
        </div>
    </div>
</div>

<div class="modal update" id="FunctionUpdate" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Update Function</h5>
                <button type="button" class="close" data-dismiss="update" aria-label="Close" (click)="closeFunctionmodal()">
            <span aria-hidden="true">&times;</span>
          </button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <form>
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Function :</label>>
                            <textarea class="form-control custom-textarea" class="form-control" [(ngModel)]="FluidType"  [ngModelOptions]="{standalone: true}" placeholder="Type Function "></textarea>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="update" (click)="closeFunctionmodal()">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="update" (click)="SaveFunction()">Save changes</button>
            </div>
        </div>
    </div>
</div>



<div style="overflow: scroll;" class="FailureModeUpdate modal" id="FailureModeUpdate" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" style="margin-left: 5px;">Add Failure Mode Tree </h5><br>
                <small class="form-text text-muted" style="margin-top: 25px; float: left;">Note : Add Single Failure Mode at a time</small>
                <button type="button" class="close" data-dismiss="FailureModeUpdate" aria-label="Close" (click)="closeFMmodal()">
                   <span aria-hidden="true">&times;</span> </button>
            </div>
            <div class="FailureModeUpdate modal-body">
                <div class="container-fluid">
                   <div class="container">
                        <div style="overflow: scroll; height:20rem; ">  
                            <div *ngFor="let func of failuerMode" class="border" pDraggable="func" (onDragStart)="dragStart1($event,func)" (onDragEnd)="dragEnd1($event)">
                                {{func.Description}}
                            </div>
                        </div>
                        <div class="drop" pDroppable="func" (onDrop)="drop1($event)">
                            <div *ngFor="let c of dropedMode" class="row">
                                <div style="word-wrap: break-word;float:left;">{{c?.Description}}</div>
                                <div style="float:right; margin-left: 5px;">
                                    <a class="cell-icon-button cdk-close" style="color: black;" (click)="FailureModeDropped(c)" pTooltip="Delete" tooltipPosition="top">
                                        <i class="far fa-times-circle "></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <small class="form-text text-muted">Drag and Drop here, from above List </small>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="FailureModeUpdate" (click)="closeFMmodal()">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="FailureModeUpdate" (click)="ADDSingleFailureModeToTree()">Save changes</button>
            </div>
        </div>
    </div>
</div>


<div class="LSEffectUpdate modal" id="LSEffectUpdate" tabindex="-1" role="dialog" style="overflow: scroll;">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title">Add Local and System Effect for {{LSFailureMode}} </h6><br>
                <button type="button" class="close" data-dismiss="LSEffectUpdate" aria-label="Close" (click)="closeLSmodal()">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="LSEffectUpdate modal-body">
                <div class="container-fluid">
                    <div class="container">
                        <div class="p-fluid">
                            <div>
                                <label>Local Effect</label>
                                <input type="text" class="form-control" [(ngModel)]="failuerModeLocalEffects" placeholder="Type Local Effect" required>
                            </div>
                            <div>
                                <label>System Effect</label>
                                <input type="text" class="form-control" [(ngModel)]="failuerModeSystemEffects" placeholder="Type System Effect" required>
                            </div>
                            <div style="margin-top: 20px;">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="uploadAttachments">Upload</span>
                                            </div>
                                            <div class="custom-file">
                                                <input type="file" accept="image/x-png,image/jpeg,.pdf," (change)="uploadAttachmentFile($event)" class="custom-file-input" id="uploadAttachments" aria-describedby="uploadAttachments">
                                                <label class="custom-file-label" *ngIf="fileUpload == ''" for="inputGroupFile01">Attachment</label>
                                                <label class="custom-file-label" *ngIf="fileUpload != ''" for="inputGroupFile01">{{fileUpload}}</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="input-group mb-3">
                                            <textarea class="form-control custom-textarea" [(ngModel)]="Remark" id="message" name="body" rows="3" placeholder="Add Remark Here"></textarea>
                                        </div>

                                    </div>

                                    <br>
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-md-8">
                                                <h6> Down Time Factor (Range 1 - 10): {{ADDDownTimeFactor}}</h6>
                                            </div>
                                            <div Style="margin-top:8px;" class="col-md-3">
                                                <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="ADDDownTimeFactor" [min]="1" [max]="10"></p-slider>
                                            </div>
                                        </div>
                                        <br>
                                        <div class="row">
                                            <div class="col-md-8">
                                                <h6> Scrape Factor (Range 1 - 5): {{ADDScrapeFactor}}</h6>
                                            </div>
                                            <div Style="margin-top:8px;" class="col-md-3">
                                                <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="ADDScrapeFactor" [min]="1" [max]="5"></p-slider>
                                            </div>
                                        </div>

                                        <br>

                                        <div class="row">
                                            <div class="col-md-8">
                                                <h6> Safety Factor (Range 1 - 20): {{ADDSafetyFactor}}</h6>
                                            </div>
                                            <div Style="margin-top:8px;" class="col-md-3">
                                                <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="ADDSafetyFactor" [min]="1" [max]="20"></p-slider>
                                            </div>
                                        </div>

                                        <br>
                                        <div class="row">
                                            <div class="col-md-8">
                                                <h6>Protection Factor (Range 1 - 10): {{ADDProtectionFactor}}</h6>
                                            </div>
                                            <div Style="margin-top:8px;" class="col-md-3">
                                                <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="ADDProtectionFactor" [min]="1" [max]="10"></p-slider>
                                            </div>
                                        </div>

                                        <br>

                                        <div class="row">
                                            <div class="col-md-8">
                                                <h6>Frequency Factor (Range 1 - 15): {{ADDFrequencyFactor}}</h6>
                                            </div>
                                            <div Style="margin-top:8px;" class="col-md-3">
                                                <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="ADDFrequencyFactor" [min]="1" [max]="15"></p-slider>
                                            </div>
                                        </div>
                                        <br>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                </div>
            </div>
            <div class="LSEffectUpdate modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="LSEffectUpdate" (click)="closeLSmodal()">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="LSEffectUpdate" (click)="LSEffectToTree()">Save changes</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="AttachmentModalAdd" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <span>
                    Add Attachment for {{LSFailureMode}}
                </span>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="CloseAttachmentModalAdd()" pTooltip="Add Attachments" tooltipPosition="top">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-11 ml-auto">
                        <div class="toolbar" role="toolbar">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">Upload</span>
                                </div>
                                <div class="custom-file">
                                    <input [disabled]="FMAttachmentADD" type="file" accept="image/x-png,image/jpeg,.pdf," (change)="AddUploadAttachmentFile($event)" class="custom-file-input" id="inputGroupFile01">
                                    <label class="custom-file-label" for="inputGroupFile01">Choose attachment</label>
                                </div>
                            </div>
                        </div>
                        <div style="border-color: black;height: 300px;width: 400px;" class="card">
                            <div class="file"><br>
                                <span *ngIf="(ADDdbPathURL == '')">
                                    <p style="margin: 20px; margin-left: 40px;">Please select attachment</p>
                                </span>
                                <span style="margin: 10px;" *ngIf="extensionAddPDF">
                                <iframe [src]="ADDdbPathURL" width="350" height="250" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px;" allowfullscreen> </iframe>
 
                               <a class="attachment"  data-toggle="modal" data-target="#DeleteFailureModeAttachment"><i class="pi pi-times"></i></a>  
                             </span>
                                <span style="margin: 10px;" *ngIf="extensionAddImage">
                                <img [src]="ADDdbPathURL" width="350" height="250"> 
                             
                               <a class="attachment" (click)="DeleteADDAttachment()"><i class="pi pi-times"></i></a>  
                             </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="AttachmentDoneModal()">Done</button>
            </div>


        </div>
    </div>
</div>

<div class="modal fade" id="CommentModalAdd" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <span>
                    Add Remark for {{LSFailureMode}}
                </span>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" >&times;</span>
        </button>
            </div>

            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-11 ml-auto">
                        <div class="form-group mt-4">
                            <textarea class="form-control custom-textarea" [(ngModel)]="Remark" id="message" name="body" rows="12" placeholder="Add Remark Here"></textarea>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Done</button>
            </div>

        </div>
    </div>
</div>

<div *ngIf="ColoredTreeForUpdate">
    <p-card>
        <h5 style="margin-bottom: 1em;"><b>Your selected {{LSFailureMode}} Tree </b></h5>
        <p-organizationChart id="ScrollUpdateTree" [value]="SavedConsequenceNode" selectionMode="single" styleClass="company">
            <ng-template let-node pTemplate="person">
                <div class="node-header p-corner-top">{{node.label}}</div>
                <div class="node-content">
                    <div>{{node.data.name}}
                    </div>
                </div>
            </ng-template>
            <ng-template let-node pTemplate="department">
                {{node.label}}
            </ng-template>
        </p-organizationChart>
        <button [disabled]="UpdateColorTreeEnable" type="button" data-toggle="modal" data-target="#ChangeConsequence" class="btn btn-primary">Update</button>
    </p-card>
</div><br>



<div id="ScrollUpdateTree4" *ngIf="Consequences1" class="col-md-12 stepsdemo-content shadow">
    <p-card>
        <ng-template pTemplate="title">
            Consequences for {{LSFailureMode}}
        </ng-template>
        <ng-template pTemplate="subtitle">
            Choose your Consequences
        </ng-template>
        <ng-template pTemplate="content">
            <div class="p-fluid p-formgrid p-grid">
                <div style="margin-left: 20px;" class="p-fluid">
                    <p> Will the Occurrence of the failure mode ( on its own) be evident to operational staff during normal operation of the plant?</p>
                </div>
                <div class="container">
                    <div *ngFor="let con1 of draggedConsequencesYesNO" class="border" pDraggable="con1" (onDragStart)="dragStartC1($event,con1)" (onDragEnd)="dragEndC1($event)">
                        {{con1}}
                    </div>
                    <div class="drop" pDroppable="con1" (onDrop)="dropC1($event)">
                        <div *ngFor="let c of dropedConsequenceFailureMode">{{c}}
                        </div>

                    </div>
                    <small class="form-text text-muted">Drag and Drop here, from above List</small> <br>

                </div>

            </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <button label="Next" type="button" class="btn btn-dark" (click)="Consequence1Next()" pTooltip=" Click To add next Consequence " tooltipPosition="top"> <i class="fas fa-arrow-right"></i></button>

        </ng-template>
    </p-card>
</div>



<div *ngIf="Consequences2" class="col-md-12 stepsdemo-content shadow">
    <p-card>
        <ng-template pTemplate="title">
            Consequences for {{LSFailureMode}}
        </ng-template>
        <ng-template pTemplate="subtitle">
            Choose your Consequences
        </ng-template>
        <ng-template pTemplate="content">
            <div class="p-fluid p-formgrid p-grid">
                <div style="margin-left: 20px;" class="p-fluid">
                    <p> Does the effect of the failure mode(or the secondary effect resulting from the failure) have direct adverse effect on operational safety or the environment?</p>
                </div>
                <div class="container">
                    <div *ngFor="let con2 of draggedConsequencesYesNO" class="border" pDraggable="con2" (onDragStart)="dragStartC2($event,con2)" (onDragEnd)="dragEndC2($event)">
                        {{con2}}
                    </div>
                    <div class="drop" pDroppable="con2" (onDrop)="dropC2($event)">
                        <div *ngFor="let c of dropedConsequenceEffectFailureMode">{{c}}
                        </div>
                    </div>
                    <small class="form-text text-muted">Drag and Drop here, from above List</small> <br>

                </div>

            </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <button label="Back" type="button" class="btn btn-dark" style="margin-left: 70px" (click)="Consequence2Back()" pTooltip=" Back to the First Consequence"
            tooltipPosition="top"> <i class="fas fa-arrow-left"></i></button>
            <button label="Next" type="button" class="btn btn-dark" style="float: right; margin-right: 70px" (click)="Consequence2Next()" pTooltip=" Click To add next Consequence " tooltipPosition="top"> <i class="fas fa-arrow-right"></i></button>

        </ng-template>
    </p-card>
</div>

<div *ngIf="Consequences3" class="col-md-12 stepsdemo-content shadow">
    <p-card>
        <ng-template pTemplate="title">
            Consequences for {{LSFailureMode}}
        </ng-template>
        <ng-template pTemplate="subtitle">
            Choose your Consequences
        </ng-template>
        <ng-template pTemplate="content">
            <div class="p-fluid p-formgrid p-grid">
                <div style="margin-left: 20px;" class="p-fluid">
                    <p>Does the combination of the failure mode and one additonal failure or event result in an adverse effect safety of the environment? </p>
                </div>
                <div class="container">
                    <div *ngFor="let con3 of draggedConsequencesYesNO" class="border" pDraggable="con3" (onDragStart)="dragStartC3($event,con3)" (onDragEnd)="dragEndC3($event)">
                        {{con3}}
                    </div>
                    <div class="drop" pDroppable="con3" (onDrop)="dropC3($event)">
                        <div *ngFor="let c of dropedConsequenceCombinationFailureMode">{{c}}
                        </div>
                    </div>
                    <small class="form-text text-muted">Drag and Drop here, from above List </small> <br>
                </div>

            </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <button label="Back" type="button" class="btn btn-dark" style="margin-left: 70px" (click)="Consequence3Back()" pTooltip=" Back to the Second Consequence"
            tooltipPosition="top"> <i class="fas fa-arrow-left"></i></button>
            <button label="Next" type="button" class="btn btn-dark" style="float: right; margin-right: 70px" (click)="Consequence3Next()" pTooltip="Click To add next Consequencee"
                tooltipPosition="top"> <i class="fas fa-arrow-right"></i></button>

        </ng-template>
    </p-card>
</div>

<div *ngIf="Consequences4" class="col-md-12 stepsdemo-content shadow">
    <p-card>
        <ng-template pTemplate="title">
            Consequences for {{LSFailureMode}}
        </ng-template>
        <ng-template pTemplate="subtitle">
            Choose your Consequences
        </ng-template>
        <ng-template pTemplate="content">
            <div class="p-fluid p-formgrid p-grid">
                <div style="margin-left: 20px;" class="p-fluid">
                    <p>Does the Failure mode adversily affect operational capabilities of the plant? </p>
                </div>
                <div class="container">
                    <div *ngFor="let con4 of draggedConsequencesYesNO" class="border" pDraggable="con4" (onDragStart)="dragStartC4($event,con4)" (onDragEnd)="dragEndC4($event)">
                        {{con4}}
                    </div>
                    <div class="drop" pDroppable="con4" (onDrop)="dropC4($event)">
                        <div *ngFor="let c of dropedConsequenceAffectFailureMode">{{c}}
                        </div>
                    </div>
                    <small class="form-text text-muted">Drag and Drop here, from above List or you can type below</small> <br>
                </div>
            </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <button label="Back" type="button" class="btn btn-dark" style="margin-left: 70px" (click)="Consequence4Back()" pTooltip=" Back to the Second Consequence"
            tooltipPosition="top"><i class="fas fa-arrow-left"></i></button>
            <button label="Next" type="button" class="btn btn-dark" style="float: right; margin-right: 70px" (click)="Consequence4Next()"  pTooltip=" Click To add next Consequence " tooltipPosition="top"><i class="fas fa-arrow-right"></i></button>

        </ng-template>
    </p-card>
</div><br><br>

<div *ngIf="ConsequencesTree" class="col-md-12 stepsdemo-content shadow" style="overflow: scroll;">
    <!-- <p-card> -->
        <span *ngIf="ConsequenceTreeADDConsequenceEnable">
            <small class="form-text text-muted"><h4>Your {{LSFailureMode}} Tree</h4></small>
        </span>
        <span *ngIf="ConsequenceTreeEditConsequenceEnable">
            <small class="form-text text-muted"><h4> Your {{LSFailureMode}} Tree </h4></small>
        </span><br><br>
        <button label="Back" type="button" class="btn btn-dark" (click)="ConsequenceTreeBack()">Back</button>&nbsp;&nbsp;
        <button *ngIf="ConsequenceTreeADDConsequenceEnable" title="Add Consequences" label="Back" type="button" class="btn btn-dark" style="margin-left: 70px" (click)="ADDConsequenceToTree()"><i class="pi pi-plus"></i> Consequences</button><br><br>
        <button *ngIf="ConsequenceTreeEditConsequenceEnable" title="Edit Consequences" label="Back" type="button" class="btn btn-dark" (click)="EditConsequenceToTree()"><i class="pi pi-pencil"></i> Consequences</button><br>
        <p-organizationChart [value]="ConsequenceNode" (onNodeSelect)="onNodeSelect($event)" styleClass="company">
            <ng-template let-node pTemplate="person">
                <div class="node-header p-corner-top">{{node.label}}</div>
                <div class="node-content">
                    <div>{{node.data.name}}</div>
                </div>
            </ng-template>
            <ng-template let-node pTemplate="department">
                {{node.label}}
            </ng-template>
        </p-organizationChart>
    <!-- </p-card> -->
</div>



<div style="overflow:scroll;" class="modal FailureModeUpdate2" id="FailureModeUpdate2" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" (click)="UpdateFM()" pTooltip="Update Failure modes" tooltipPosition="top">Update Failure Mode</h5>
                <button type="button" class="close" data-dismiss="FailureModeUpdate2" aria-label="Close" (click)="CloseFailureModeUpdate()" pTooltip="Add new failure Mode" tooltipPosition="top">
            <span aria-hidden="true">&times;</span>
          </button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <form>
                        <div class="form-group">
                            <label for="exampleFormControlInput1">Failure Mode</label>
                            <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="UpdateFailureMode" id="exampleFormControlInput1" disabled><br>
                            <button type="button" class="btn btn-secondary btn-sm" (click)="UpdateFM()" pTooltip="Update Failure modes" tooltipPosition="top">Update Failure Mode</button>
                        </div>
                        <div *ngIf="EditFM" class="form-group">
                            <div *ngFor="let func of failuerMode" class="border" pDraggable="func" (onDragStart)="dragStart1($event,func)" (onDragEnd)="dragEnd1($event)">
                                {{func.Description}}
                            </div>
                            <div class="drop" pDroppable="func" (onDrop)="drop1($event)">
                                <div *ngFor="let c of dropedMode">
                                    <span>{{c?.Description}}</span>
                                    <a class="cell-icon-button cdk-close" style="float:right;color: black;" (click)="FailureModeDropped(c)" pTooltip="Delete" tooltipPosition="top">
                                        <i class="far fa-times-circle fa-2x"></i>
                                    </a>
                                </div>
                            </div>
                            <small class="form-text text-muted">Drag and Drop here, from above List </small>

                            <button type="button" class="btn btn-secondary btn-sm" (click)="CancelFM()">Close</button>
                            <button type="button" class="btn btn-secondary btn-sm" (click)="SaveFMToTreee()">Save</button>

                        </div>

                        <div class="form-group">
                            <label for="exampleFormControlTextarea1">Local Effect</label>
                            <textarea class="form-control custom-textarea" [ngModelOptions]="{standalone: true}" [(ngModel)]="UpdateFailureModeLocalEffect" id="exampleFormControlTextarea1" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="exampleFormControlTextarea2">System Effect</label>
                            <textarea class="form-control custom-textarea" [ngModelOptions]="{standalone: true}" [(ngModel)]="UpdateFailureModeSystemEffect" id="exampleFormControlTextarea2" rows="3"></textarea>
                        </div>
                        <div style="margin-top: 20px;">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="uploadAttachments">Upload</span>
                                        </div>
                                        <div class="custom-file">
                                            <input type="file" accept="image/x-png,image/jpeg,.pdf," (change)="uploadAttachmentFile($event)" class="custom-file-input" id="uploadAttachments" aria-describedby="uploadAttachments">
                                            <label class="custom-file-label" *ngIf="fileUpload == ''" for="inputGroupFile01">Attachment</label>
                                            <label class="custom-file-label" (change)="onFileChange($event)" *ngIf="AttaRemarks != ''" for="inputGroupFile01">{{AttaRemarks}}
                                             <label class="custom-file-label" *ngIf="fileUpload != ''" for="inputGroupFile01">{{fileUpload}}</label>
                                            </label>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="input-group mb-3">
                                        <textarea class="form-control custom-textarea" [(ngModel)]="Remark" id="message" name="body" rows="3" placeholder="Add Remark Here"></textarea>
                                    </div>

                                </div>
                            </div>
                        </div>


                        <div class="form-group">
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-8">
                                        <h6> Down Time Factor (Range 1 - 10): {{EditDownTimeFactor}}</h6>
                                    </div>
                                    <div Style="margin-top:8px;" class="col-md-3">
                                        <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="EditDownTimeFactor" [min]="1" [max]="10"></p-slider>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-md-8">
                                        <h6> Scrape Factor (Range 1 - 5): {{EditScrapeFactor}}</h6>
                                    </div>
                                    <div Style="margin-top:8px;" class="col-md-3">
                                        <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="EditScrapeFactor" [min]="1" [max]="5"></p-slider>
                                    </div>
                                </div>

                                <br>

                                <div class="row">
                                    <div class="col-md-8">
                                        <h6> Safety Factor (Range 1 - 20): {{EditSafetyFactor}}</h6>
                                    </div>
                                    <div Style="margin-top:8px;" class="col-md-3">
                                        <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="EditSafetyFactor" [min]="1" [max]="20"></p-slider>
                                    </div>
                                </div>

                                <br>
                                <div class="row">
                                    <div class="col-md-8">
                                        <h6>Protection Factor (Range 1 - 10): {{EditProtectionFactor}}</h6>
                                    </div>
                                    <div Style="margin-top:8px;" class="col-md-3">
                                        <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="EditProtectionFactor" [min]="1" [max]="10"></p-slider>
                                    </div>
                                </div>

                                <br>

                                <div class="row">
                                    <div class="col-md-8">
                                        <h6>Frequency Factor (Range 1 - 15): {{EditFrequencyFactor}}</h6>
                                    </div>
                                    <div Style="margin-top:8px;" class="col-md-3">
                                        <p-slider [ngModelOptions]="{standalone: true}" [(ngModel)]="EditFrequencyFactor" [min]="1" [max]="15"></p-slider>
                                    </div>
                                </div>
                                <br>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="exampleFormControlInput2">Consequence</label>
                            <input type="text" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="UpdateFailureModeConsequence" id="exampleFormControlInput2" disabled><br>
                            <button type="button" class="btn btn-secondary btn-sm" (click)="ReplaceConsequence()">Update Consequence</button>
                        </div>

                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="FailureModeUpdate2" (click)="CloseFailureModeUpdate()">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="FailureModeUpdate2" (click)="SaveFailureModeUpdate()">Save changes</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="DeleteFailureMode" tabindex="-1" role="dialog" aria-labelledby="DeleteFailureModeTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Warning</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete {{DeleteFMName}}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="DeleteFailureModeFrommTree()">Delete</button>
            </div>
        </div>
    </div>
</div>




<div class="modal fade" id="DeleteFailureModeAttachment" tabindex="-1" role="dialog" aria-labelledby="DeleteFailureModeAttachmentTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Warning</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete atttachment
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="DeleteAttachment()">Delete</button>
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="ChangeConsequence" tabindex="-1" role="dialog" aria-labelledby="ChangeConsequence" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Warning</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
            </div>
            <div class="modal-body">
                Are you sure you want to Change the Consequence
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="ChangeConsequence()">Change</button>
            </div>
        </div>
    </div>
</div>
<div *ngIf="FCAViewEnabled" id="viewFCA" >
    <p-card>
        <a class="cell-icon-button cdk-close" style="float:right;color: black;" (click)="CloseFCAUpdateView()" pTooltip="Close" tooltipPosition="top">
            <i class="far fa-times-circle "></i>
        </a>
        <div class="row"><br>
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <div style="width: 13em;height: 7em; margin-left: 140px;">
                    <canvas id="ViewPattern"></canvas>
                </div>
            </div>
            <div class="col-md-3"></div>
        </div><br>

        <div id="viewFCAPatterns" >
            <p-organizationChart [value]="FCAView" selectionMode="single" styleClass="company">
                <ng-template let-node pTemplate="person">
                    <div class="node-header p-corner-top">{{node.label}}</div>
                    <a class="editFCA-org-bttn" pTooltip="Select Node To edit" data-toggle="modal" (click)="CompleteUpdateFCA(node)" data-target="#UpdatePattern" tooltipPosition="top" *ngIf="node.editFCA !== undefined && node.editFCA" (click)="SelectNodeToEdit(node)" pTooltip="Edit Node" tooltipPosition="top"><i class="pi pi-pencil"></i></a>
                    <div class="node-content">
                        <div>{{node.data.name}}</div>
                    </div>
                </ng-template>
                <ng-template let-node pTemplate="department" id="FCATreeShow">
                    {{node.label}}
                </ng-template>
            </p-organizationChart> <br><br>  
        </div>
        
        <div *ngIf="FCAViewTreeEnabled" class="col-md-12" style="overflow: scroll;" id="FCAViewTreeEnable">
            <h5>You have selected this path</h5>
            <button *ngIf="EnabledPatternUpdate" title="Save Pattern" label="save" type="button" class="btn btn-dark" (click)="SaveUpdatedPattern()">Save & Update</button><br>
            <p-organizationChart [value]="FCAdata1" styleClass="company">
                <ng-template let-node pTemplate="person">
                    <div class="node-header p-corner-top">{{node.label}}</div>
                    <div class="node-content">
                        <div>{{node.data.name}}</div>
                    </div>
                </ng-template>
                <ng-template id="SelectedPath" let-node pTemplate="department">
                    {{node.label}}
                </ng-template>
            </p-organizationChart>
            <div>
              <p-card>
                    <div class="row">
                        <div class="row col-md-12">
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;">
                                    <canvas id="pattern1"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" >
                                    <canvas id="pattern2"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" >
                                    <canvas id="pattern3"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" >
                                    <canvas id="pattern4"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" >
                                    <canvas id="pattern5"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" >
                                    <canvas id="pattern6"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-card>
            </div>
        </div>
    </p-card>
</div>
<div class="modal fade" id="UpdatePattern" tabindex="-1" role="dialog" aria-labelledby="ChangeFCA" aria-hidden="true" *ngIf="abc">
    <div class="modal-dialog modal-dialog-centered" role="document" id="Viewpatternadd">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Warning</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
            </div>
            <div class="modal-body">
                Are you sure you want to Change the FCA Pattern
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="UpdatePattern()">Change</button>
            </div>
        </div>
    </div>
</div>

<br><br>

<div *ngIf="FailureModePatternTree" class="col-md-12" style="overflow: scroll;" id="ViewtoAddPattern">
    <h5 style="margin-bottom: 1em;"><b>Add FCA for {{LSFailureMode}} </b></h5>
    <p-organizationChart [value]="FCAChangeData" selectionMode="single" [(selection)]="selectedNode"
        (onNodeSelect)="onNodeSelect($event)" styleClass="company">
        <ng-template let-node pTemplate="person">
            <div class="node-header p-corner-top">{{node.label}}</div>
            <div class="node-content">
                <div>{{node.data.name}}</div>
            </div>
        </ng-template>
        <ng-template let-node pTemplate="department">
            {{node.label}}
        </ng-template>
    </p-organizationChart>
    <div id="ViewPatternForEdit">
        <p-card id="PatternForFailureMode">
            <ng-template pTemplate="title">
                Pattern For Failure Mode
            </ng-template>
            <ng-template pTemplate="subtitle">
                Enter Pattern for {{PatternFMName}}{{LSFailureMode}}
            </ng-template>
            <ng-template pTemplate="content">
                <div class="p-fluid">
                    <div class="row">
                        <div class="row col-md-12">
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" (click)="SelectPatternForFailureMode('Pattern 1')" pTooltip=" " tooltipPosition="right">
                                    <canvas id="pattern1"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" (click)="SelectPatternForFailureMode('Pattern 2')" pTooltip=" Depicts age related Failure resulting from detrioins process, but their are still considerable differences in the behaviour of any two components subject to the same nominal stress"
                                    tooltipPosition="right">
                                    <canvas id="pattern2"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" (click)="SelectPatternForFailureMode('Pattern 3')" pTooltip=" Has stedily increasing failure probability, but no single pointer
                                where it can be said the component wears out.Faituge failure, blokage of filters and flow of turbine efficiency reduction
                                through the dirt accumlation are example. The slope of the curve is governed by the Weibull scale parameter ranging from days to decade." tooltipPosition="right">
                                    <canvas id="pattern3"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" (click)="SelectPatternForFailureMode('Pattern 4')" pTooltip=" " tooltipPosition="right">
                                    <canvas id="pattern4"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" (click)="SelectPatternForFailureMode('Pattern 5')" pTooltip=" It is for random failure.This means that the probability that an item will fail in any of iterval of time is same is the same as in other.
                                Random failure is charactersized by an exponcial survival distribution and constatnt probability of failure, so their is no age at which scheduled rework or scheduled discard is appropriate.
                                " tooltipPosition="right">
                                    <canvas id="pattern5"></canvas>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="col-md-12" style="width: 13em;height: 7em;" (click)="SelectPatternForFailureMode('Pattern 6')" pTooltip="Patterns 6 is very common.The probability of failure declines with the age to reach constatnt value.
                                It is high when the component is new or just been rewarded,but then settles.Compression fittings and many electronic system,including computers, exhibit the patterns" tooltipPosition="right">
                                    <canvas id="pattern6"></canvas>
                                </div>
                            </div>
                            <div *ngIf="PatternPathEnable" class="custom-control custom-radio" style="margin:20px;">
                                <input type="radio" [(ngModel)]="PatternPath" id="customRadio1" value="1" name="customRadio" class="custom-control-input">
                                <label class="custom-control-label" for="customRadio1">Select Path</label>
                                <a class="cell-icon-button cdk-close" style="margin-left:25px; color:rgb(245, 148, 172);">
                                    <i class="fas fa-circle"></i>
                                </a>
                            </div>
                            <div *ngIf="PatternPathEnable" class="custom-control custom-radio" style="margin:20px;">
                                <input type="radio" [(ngModel)]="PatternPath" value="2" id="customRadio2" name="customRadio" class="custom-control-input">
                                <label class="custom-control-label" for="customRadio2">Select Path</label>
                                <a class="cell-icon-button cdk-close" style="margin-left:25px; color:rgb(212, 218, 211);" class="fas fa-circle">
                                </a>
                            </div>
                        </div>
                        <div class="row col-md-12">
                            <div *ngIf="ADDFailureModePatternTree" id="PatternTree2">
                                <div class="card" style="margin: 20px;" *ngIf="ADDFailuerRate">
                                    <p-card>
                                        <ng-template pTemplate="subtitle">
                                            <p><b>2. To help determine the failure rate, we need to know how reliable the equipment is. If the equipment were left alone
                                                for a period of time, would you expect this failure to have happened.
                                            </b></p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <div class="input-group mb-3">
                                                <select [(ngModel)]="ADDinterval" class="form-select"
                                                    class="form-control" placeholder="Failure very likely">
                                                    <option value="">Choose</option>
                                                    <option value="Days" selected> Days</option>
                                                    <option value="Week" selected> Week</option>
                                                    <option value="Month" selected>Month</option>
                                                    <option value="Year" selected>Year</option>
                                                </select>
                                                <input type="number" [(ngModel)]="ADDintervalValue" name="Interval"
                                                    class="form-control">
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="footer">
                                            <button class="btn btn-dark" style="float:right;"
                                                (click)="ADDIntervalSave()"> <i class="fa fa-check"
                                                    aria-hidden="true"></i></button><br>
                                        </ng-template>
                                    </p-card>
                                </div>
                                <div class="card" style="margin: 20px;" *ngIf="ADDFailureWarning"
                                    id="Patternfailurewarning">
                                    <p-card [ngClass]=" {disableddiv: ADDfailurewarning  ? true : false}">
                                        <ng-template pTemplate="title">
                                        </ng-template>
                                        <ng-template pTemplate="subtitle">
                                            <p><b>3. Are there any prior warnings before the failure occure? Tick all that apply.
                                            </b></p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <div class="container">
                                                <div class="row">
                                                    <div class="col-sm"><br>
                                                        <p-card>
                                                            Vibration<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDVibration"
                                                                    value="Vibration" name="name1" />&nbsp;</td>
                                                        </p-card>
                                                    </div>
                                                    <div class="col-sm"><br>
                                                        <p-card>
                                                            Noice<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDNoice"
                                                                    value="Noice" name="name1" />&nbsp;</td>
                                                        </p-card>
                                                    </div>
                                                    <div class="col-sm"><br>
                                                        <p-card>
                                                            Leakage<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDLeakage"
                                                                    value="Leakage" name="name1" />&nbsp;</td>
                                                        </p-card>
                                                    </div>
                                                    <div class="col-sm"><br>
                                                        <p-card>
                                                            Performance drop<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDPerformanceDrop"
                                                                    value=" Performance drop" name="name1" />&nbsp;</td>
                                                        </p-card>
                                                    </div>
                                                    <div class="col-sm"><br>
                                                        <p-card>
                                                            Temperature Change<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDTempratureChange"
                                                                    value=" Temprature Change" name="name1" />&nbsp;
                                                            </td>
                                                        </p-card>
                                                    </div><br>
                                                </div><br>

                                                <div class="row">
                                                    <div class="col-sm-2"><br>
                                                        <p-card>
                                                            Emmision changes<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDEmmisionChange"
                                                                    value=" Emmision changes" name="name1" />&nbsp;</td>
                                                        </p-card>
                                                    </div>
                                                    <div class="col-sm-2"><br>
                                                        <p-card>
                                                            Increase Lubricant Consumption<br>
                                                            <td><input type="checkbox"
                                                                    [(ngModel)]="ADDIncreaseLubricantConsumption"
                                                                    value=" Increase Lubricant Consumption"
                                                                    name="name1" />&nbsp;</td>
                                                        </p-card>
                                                    </div>
                                                    <div class="col-sm-2"><br>
                                                        <p-card>
                                                            Other<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDOther"
                                                                    value=" Other" name="name1" />&nbsp;</td>
                                                        </p-card>
                                                    </div>
                                                    <div class="col-sm-2"> </div>
                                                    <div class="col-sm-2"> </div>
                                                </div>
                                            </div><br>
                                        </ng-template>
                                        <ng-template pTemplate="footer">
                                            <button class="btn btn-dark" style="float:right;"
                                                (click)="ADDConditionFirst()"> <i class="fa fa-check"
                                                    aria-hidden="true"></i></button><br>
                                        </ng-template>
                                    </p-card>
                                </div>
                                <div class="card" style="margin: 20px;" *ngIf="ADDWarningSign" id="PatternWarningSign">
                                    <p-card [ngClass]=" {disableddiv: ADDwarningsign  ? true : false}">
                                        <ng-template pTemplate="subtitle">
                                            <p><b>4. If there are any warning signs, can they be monitored? if so, how?
                                            </b></p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <div class="container">
                                                <div class="row">
                                                    <div class="col-sm"><br>
                                                        <div class="shadow p-3 mb-5 bg-white rounded"
                                                            style="width: 10rem;">
                                                            Human Senses<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDHumanSenses"
                                                                    value=" Human Senses" name="name1" />&nbsp;</td>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm"><br>
                                                        <div class="shadow p-3 mb-5 bg-white rounded"
                                                            style="width: 10rem;">
                                                            Existing instrumentation(portable or fixed)<br>
                                                            <td><input type="checkbox"
                                                                    [(ngModel)]="ADDExistingInstumentation"
                                                                    value=" Existing instumentation(portable or fixed)"
                                                                    name="name1" />&nbsp;</td>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm"><br>
                                                        <div class="shadow p-3 mb-5 bg-white rounded"
                                                            style="width: 10rem;">
                                                            New instrumentation(portable or fixed)<br>
                                                            <td><input type="checkbox"
                                                                    [(ngModel)]="ADDNewInstumentation"
                                                                    value=" New instumentation(portable or fixed)"
                                                                    name="name1" />&nbsp;</td>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm"><br>
                                                        <div class="shadow p-3 mb-5 bg-white rounded"
                                                            style="width: 10rem;">
                                                            Process conditions<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDProcessCondtions"
                                                                    value=" Process Condtions" name="name1" />&nbsp;
                                                            </td>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm"><br>
                                                        <div class="shadow p-3 mb-5 bg-white rounded"
                                                            style="width: 10rem;">
                                                            Sample Anyalysis<br>
                                                            <td><input type="checkbox" [(ngModel)]="ADDSampleAnyalysis"
                                                                    value=" Sample Anyalysis" name="name1" />&nbsp;</td>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="footer">
                                            <a class="btn btn-white" style="border:none"> </a>
                                            <button class="btn btn-dark" style="float:right;"
                                                (click)="ADDConditionSecond()"> <i class="fa fa-check"
                                                    aria-hidden="true"></i></button>
                                        </ng-template>
                                    </p-card>
                                </div>
                                <div class="card" style="margin: 20px;" *ngIf="ADDIntervalDeteacting"
                                    id="PatternIntervalDeteacting">
                                    <p-card [ngClass]=" {disableddiv: ADDintervaldeteacting  ? true : false}">
                                        <ng-template pTemplate="subtitle">
                                            <p><b>5. What is the likely interval between detecting a warning sign and the failure happening?</b></p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <div class="input-group mb-3">
                                                <select [(ngModel)]="ADDffInterval" class="form-select"
                                                    class="form-control" placeholder="Failure very likely">
                                                    <option value="">Choose</option>
                                                    <option value="Days" selected> Days</option>
                                                    <option value="Week" selected> Week</option>
                                                    <option value="Month" selected>Month</option>
                                                    <option value="year" selected>Year</option>
                                                </select>
                                                <input type="number" [(ngModel)]="ADDffIntervalValue"
                                                    name="Add Interval" class="form-control">
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="footer">
                                            <a class="btn btn-white" style="border:none"> </a>
                                            <button class="btn btn-dark" style="float:right;" (click)="ADDFFInterval()">
                                                <i class="fa fa-check" aria-hidden="true"></i></button>
                                        </ng-template>
                                    </p-card>
                                </div>
                                <div class="card" style="margin: 20px;" *ngIf="ADDFailuerEvident"
                                    id="PatternFailuerEvident">
                                    <p-card [ngClass]=" {disableddiv: ADDfailuerevident  ? true : false}">
                                        <ng-template pTemplate="subtitle">
                                            <p><b>6. If the failure is not evident during normal operation can be found
                                                    by testing and inspection? 
                                                </b></p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <div class="row">
                                                <div class="col-sm"></div>
                                                <div class="col-sm">
                                                    Yes <td><input type="radio" [(ngModel)]="ADDCommentFIEYN" value="Failure is not Evident" name="name1" />&nbsp;</td>
                                                </div>
                                                <div class="col-md-2">
                                                    No <td><input type="radio" [(ngModel)]="ADDCommentFIEYN" value="Failure is Evident" name="name1" />&nbsp;</td>
                                                </div>
                                                <div class="col-sm"></div>
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="footer">
                                            <a class="btn btn-white" style="border:none"> </a>
                                            <button class="btn btn-dark" style="float:right;"
                                                (click)="ADDCommentThird()"> <i class="fa fa-check"
                                                    aria-hidden="true"></i></button>
                                        </ng-template>
                                    </p-card>
                                </div>
                                <div class="card" style="margin: 20px;" *ngIf="ADDFailuerMaintenance"
                                    id="PatternFailuerMaintenance">
                                    <p-card [ngClass]=" {disableddiv: ADDfailuermaintenance ? true : false}">
                                        <ng-template pTemplate="title">
                                        </ng-template>
                                        <ng-template pTemplate="subtitle">
                                            <p><b>7. Some of the failure cannot avoided by maintenance. Would planned
                                                    replacement or refurbishment
                                                    maintainace prevent or mitigate this failure Mode?
                                                </b></p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <div class="row">
                                                <div class="col-sm"></div>
                                                <div class="col-sm">
                                                    Yes <td><input type="radio" [(ngModel)]="ADDCommentFIEYN2" value=" planned replacement or refurbishment maintainace prevent or mitigate this failure Mode - Yes"     name="name2" />&nbsp;</td>
                                                </div>
                                                <div class="col-md-2">
                                                    No <td><input type="radio" [(ngModel)]="ADDCommentFIEYN2" value=" planned replacement or refurbishment maintainace prevent or mitigate this failure Mode - No" name="name2" />&nbsp;</td>
                                                </div>
                                                <div class="col-sm"></div>
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="footer">
                                            <a class="btn btn-white" style="border:none"> </a>
                                            <button class="btn btn-dark " style="float:right;"
                                                (click)="ADDCommentFourth()"> <i class="fa fa-check"
                                                    aria-hidden="true"></i></button>
                                        </ng-template>
                                    </p-card>
                                </div>
                                <div class="card" style="margin: 20px;" *ngIf="ADDFailuerComments"
                                    id="PatternFailuerComments">
                                    <p-card [ngClass]=" {disableddiv: ADDfailuercomments  ? true : false}">
                                        <ng-template pTemplate="title">

                                        </ng-template>
                                        <ng-template pTemplate="subtitle">
                                            <p><b> 8. Do you have any comments regarding the failure of this equipment or how the maintenance of the equipment
                                            could be improved?
                                        </b></p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <textarea class="form-control custom-textarea" [(ngModel)]="ADDFCAFreeText"
                                                id="message" name="body" rows="3"
                                                placeholder="Add comments here (Optional)"></textarea>
                                        </ng-template>
                                        <ng-template pTemplate="footer">
                                                <a class="btn btn-white" style="border:none"> </a>
                                            <button class="btn btn-dark" *ngIf="ADDFCAFreeTextSave1"
                                                style="float:right;" (click)="ADDFCAFreeTextSave()"><i class="fa fa-check" aria-hidden="true" ></i></button>
                                        </ng-template>
                                    </p-card>
                                </div>
                                <div class="card" style="margin: 20px;" *ngIf="ADDSafeUsefulLife" id="SafeUsefulLife">
                                    <p-card [ngClass]=" {disableddiv: SafeUsefulLife  ? true : false}">
                                        <ng-template pTemplate="title">

                                        </ng-template>
                                        <ng-template pTemplate="subtitle">
                                                <p><b> 9:{{(ConsequenceBasedMSS == 'A (Failure Mode:Hidden, Failure Mode with Condition : Combined with one or other failure mode events, Failure Mode Consequences : Safety and/or environmental hazard)' || ConsequenceBasedMSS == 'B (Failure Mode:Evident, Failure Mode with Condition : Direct only, Failure Mode Consequences : Safety and/or environmental hazard)') ? 'Safe Life' : 'Useful life'}} for {{PatternFMName}}{{LSFailureMode}}
                                                </b></p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <div class="row" style="padding: 15px;" *ngIf="ConsequenceBasedMSS == 'A (Failure Mode:Hidden, Failure Mode with Condition : Combined with one or other failure mode events, Failure Mode Consequences : Safety and/or environmental hazard)' || ConsequenceBasedMSS == 'B (Failure Mode:Evident, Failure Mode with Condition : Direct only, Failure Mode Consequences : Safety and/or environmental hazard)' ">
                                                <div class="col-md-3">
                                                    <label> Safe Life</label>
                                                </div>
                                                 <div class="col-md-3">
                                                    <select #value (change)="AddSafeLifeCalculation(value.value)" style="width: 50%;" class="form-control">
                                                        <option value="L10">L10 life</option>
                                                        <option value="L20">L20 life</option>
                                                    </select>     
                                                </div>
                                                <div class="col-md-3">
                                                    <input type="number" [(ngModel)]="ADDSafeLife" name="safelife" class="form-control">
                                                </div>
                                            </div>
                                            <div class="row" style="padding: 15px;" *ngIf="ConsequenceBasedMSS == 'D (Failure Mode:Evident, Failure Mode with Condition : Direct only, Failure Mode Consequences : No effect on safety or environment operation)' || ConsequenceBasedMSS == 'E (Failure Mode:Hidden, Failure Mode with Condition : Combined with one or other failure mode events, Failure Mode Consequences : No effect on safety or environment)' || ConsequenceBasedMSS == 'C (Failure Mode:Evident, Failure Mode with Condition : Direct only, Failure Mode Consequences : Operational capability adversly affected but no effect on safety or environment)' ">
                                                <div class="col-md-3">
                                                    <label> Useful Life</label>
                                                </div>
                                                <div class="col-md-3">
                                                    <input type="number" [(ngModel)]="ADDUsefulLife" name="usefullife" class="form-control">
                                                </div>
                                            </div>
                                            <div class="row" style="padding: 15px;">
                                                <div class="col-md-3">
                                                    <label>Do you want webal analysis for alpha and beta</label>

                                                </div>
                                                <div class="col-sm">
                                                    Yes <td><input type="radio" [(ngModel)]="ADDWebalYN" value="YES"
                                                            name="ABYN" />
                                                </div>
                                                <div class="col-sm">
                                                    No <td><input type="radio" [(ngModel)]="ADDWebalYN" value="No"
                                                            name="ABYN" />
                                                </div>
                                            </div>
                                            <div class="row" style="padding: 15px;" *ngIf="ADDWebalYN == 'No'">
                                                <small>Please provide values for alpha and beta</small>
                                            </div>
                                            <div class="row" style="padding: 15px;" *ngIf="ADDWebalYN == 'No'">
                                                <div class="col-md-3">
                                                    <label>Alpha</label>
                                                </div>
                                                <div class="col-md-3">
                                                    <input type="number" [(ngModel)]="ADDalpha" name=" WebalYN"
                                                        class="form-control">
                                                </div>
                                            </div>
                                            <div class="row" style="padding: 15px;" *ngIf="ADDWebalYN == 'No'">
                                                <div class="col-md-3">
                                                    <label>Beta</label>
                                                </div>
                                                <div class="col-md-3">
                                                    <input type="number" [(ngModel)]="ADDbeta" name=" WebalYN"
                                                        class="form-control">
                                                </div>
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="footer">
                                            <a class="btn btn-white" style="border:none" > </a>
                                            <button class="btn btn-dark" style="float:right;"(click)="ADDSafeUsefulLifeSave()"><i class="fa fa-check" aria-hidden="true" ></i></button>
                                        </ng-template>
                                    </p-card>
                                </div>
                                <div class="card" style="margin: 20px;" *ngIf="ADDalphaBeta && ADDWebalYN == 'YES' "
                                    id="alphaBeta">
                                    <p-card [ngClass]=" {disableddiv: ADDalphaBeta  ? false : true}">
                                        <ng-template pTemplate="title">

                                        </ng-template>
                                        <ng-template pTemplate="subtitle">
                                            <p><b> 10: Provide List of Days for Failure Mode, {{PatternFMName}} in excel
                                                    format to calculate alpha, beta.
                                                </b></p>
                                            <p><small>Note : Put just one column in Excel with column name 'Days' or </small></p>
                                                        
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <div class="row" style="padding: 15px;">
                                                <div class="col-sm col-md-4 form-group">
                                                    <input type="file" class="form-control-file btn btn-secondary"
                                                        (change)="ADDWebal($event)" placeholder="Upload file"
                                                        accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">

                                                </div>
                                            </div>
                                            <div class="row" style="padding: 15px;">
                                                <label>Alpha : {{ADDalpha | number : '1.0-2' }}</label>
                                            </div>
                                            <div class="row" style="padding: 15px;">
                                                <label>Beta : {{ADDbeta | number : '1.0-2' }}</label>
                                            </div>
                                        </ng-template>
                                        <ng-template pTemplate="footer">
                                            <a class="btn btn-white" style="border:none" > </a>
                                            <button class="btn btn-dark" style="float:right;"
                                                (click)="ADDalphaBetaSave()"><i class="fa fa-check" aria-hidden="true" ></i>Save</button>
                                        </ng-template>
                                    </p-card>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </ng-template>
            <ng-template pTemplate="footer">
                <div>
                    <a class="btn btn-white" style="border:none"> </a>
                    <button *ngIf="AddFMPatternAddEnable" label="Next" style="float: right;"
                        (click)="AddPatternToNewFM()" type="button" class="btn btn-dark"> Save FCA</button>
                </div>
            </ng-template>
        </p-card>
    </div>
</div>

<div *ngIf="MSSViewEnabled" id="viewMSS">
        <div >
            <p-card>
                <div class="row">
                    <div class="col-md-12">
                        <div  id="GoToTheSaveMSS1">
                            <div class="card" style="margin: 20px;" *ngIf="ConsequenceBasedMSS == 'A (Failure Mode:Hidden, Failure Mode with Condition : Combined with one or other failure mode events, Failure Mode Consequences : Safety and/or environmental hazard)'" id="Consequence">
                                <p-card>
                                    <ng-template pTemplate="subtitle">
                                        <div class="card shadow mb-4">
                                            <div class="card-body">
                                                <img class="img-fluid px-3 px-sm-4"
                                                    src="/dist/DPM/assets/MSS/A.JPG " alt="">
                                            </div>
                                        </div>
                                    </ng-template>
                                    <!-- <ng-template pTemplate="content">
                                        <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded"
                                                    style="width: 10rem;margin-right: 10px;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="A-COM"
                                                        name="name1" />&nbsp;
                                                    <label> A-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="A-SO"
                                                        name="name1" />&nbsp;
                                                    <label> A-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="A-SR"
                                                        name="name1" />&nbsp;
                                                    <label> A-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="A-FFT"
                                                        name="name1" />&nbsp;
                                                    <label> A-FFT</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="A-RED"
                                                        name="name1" />&nbsp;
                                                    <label> A-RED</label>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template> -->
                                    <ng-template pTemplate="content">
                                        <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;margin-right: 10px;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOCM" value="A-OCM (On Condition Maintainenance Task)" name="name1" />&nbsp;
                                                    <label> A-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSO" value="A-SO (Scheduled Overhaul Task)" name="name1" />&nbsp;
                                                    <label> A-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSR" value="A-SR (Scheduled Replacement Task)"
                                                        name="name1" />&nbsp;
                                                    <label> A-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateFFT" value="A-FFT (Failure Finding Task)"
                                                        name="name1" />&nbsp;
                                                    <label> A-FFT</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateRED" value="A-RED (Redsigned Mandatory)" name="name1" />&nbsp;
                                                    <label> A-RED</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOFM" value="A-OFM (On Failure Maintainenance)" name="name1" />&nbsp;
                                                    <label> A-OFM</label>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </p-card>
                            </div>

                            <div class="card" style="margin: 20px;" *ngIf="ConsequenceBasedMSS == 'B (Failure Mode:Evident, Failure Mode with Condition : Direct only, Failure Mode Consequences : Safety and/or environmental hazard)'" id="Consequence">
                                <p-card>
                                    <ng-template pTemplate="subtitle">
                                        <div class="card shadow mb-4">
                                            <div class="card-body">
                                                <img  class="img-fluid px-3 px-sm-4"
                                                    src="/dist/DPM/assets/MSS/B.JPG " alt="">
                                            </div>
                                        </div>
                                    </ng-template>
                                    <ng-template pTemplate="content">
                                        <!-- <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded"
                                                    style="width: 10rem;margin-right: 10px;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="B-OCM"
                                                        name="name1" />&nbsp;
                                                    <label> B-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="B-SO"
                                                        name="name1" />&nbsp;
                                                    <label> B-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="B-SR"
                                                        name="name1" />&nbsp;
                                                    <label> B-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="B-RED"
                                                        name="name1" />&nbsp;
                                                    <label> B-RED</label>
                                                </div>
                                            </div>
                                        </div> -->
                                        <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded"
                                                    style="width: 10rem;margin-right: 10px;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOCM" value="B-OCM (On condition Maintainenance Task)"
                                                        name="name1" />&nbsp;
                                                    <label> B-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSO" value="B-SO (Scheduled Overhaul Task)"
                                                        name="name1" />&nbsp;
                                                    <label> B-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSR" value="B-SR (Scheduled Replacement Task)"
                                                        name="name1" />&nbsp;
                                                    <label> B-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateRED" value="B-RED (Redsigned Mandatory)" name="name1" />&nbsp;
                                                    <label> B-RED</label>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </p-card>
                            </div>

                            <div class="card" style="margin: 20px;" *ngIf="ConsequenceBasedMSS == 'C (Failure Mode:Evident, Failure Mode with Condition : Direct only, Failure Mode Consequences : Operational capability adversly affected but no effect on safety or environment)'" id="Consequence">
                                <p-card>
                                    <ng-template pTemplate="subtitle">
                                        <div class="card shadow mb-4">
                                            <div class="card-body">
                                                <img  class="img-fluid px-3 px-sm-4"
                                                    src="/dist/DPM/assets/MSS/C.JPG " alt="">
                                            </div>
                                        </div>
                                    </ng-template>
                                    <ng-template pTemplate="content">
                                        <!-- <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded"
                                                    style="width: 10rem;margin-right: 10px;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="C-OCM"
                                                        name="name1" />&nbsp;
                                                    <label> C-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="C-SO"
                                                        name="name1" />&nbsp;
                                                    <label> C-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="C-SR"
                                                        name="name1" />&nbsp;
                                                    <label> C-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="C-OFM"
                                                        name="name1" />&nbsp;
                                                    <label> C-OFM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="C-RED"
                                                        name="name1" />&nbsp;
                                                    <label> C-RED</label>
                                                </div>
                                            </div>
                                        </div> -->
                                        <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;margin-right: 10px;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOCM" value="C-OCM (On condition Maintainenance Task)" name="name1" />&nbsp;
                                                    <label> C-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSO" value="C-SO (Scheduled Overhaul Task)" name="name1" />&nbsp;
                                                    <label> C-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSR" value="C-SR (Scheduled Replacement Task)" name="name1" />&nbsp;
                                                    <label> C-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOFM" value="C-OFM (On Failure Maintainenance)" name="name1" />&nbsp;
                                                    <label> C-OFM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateRED" value="C-RED (Redsigned Mandatory)" name="name1" />&nbsp;
                                                    <label> C-RED</label>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </p-card>
                            </div>

                            <div class="card" style="margin: 20px;" *ngIf="ConsequenceBasedMSS == 'D (Failure Mode:Evident, Failure Mode with Condition : Direct only, Failure Mode Consequences : No effect on safety or environment operation)'" id="Consequence">
                                <p-card>
                                    <ng-template pTemplate="subtitle">
                                        <div class="card shadow mb-4">
                                            <div class="card-body">
                                                <img  class="img-fluid px-3 px-sm-4"
                                                    src="/dist/DPM/assets/MSS/D.JPG " alt="">
                                            </div>
                                        </div>
                                    </ng-template>
                                    <ng-template pTemplate="content">
                                        <!-- <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded"
                                                    style="width: 10rem;margin-right: 10px;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="D-OCM"
                                                        name="name1" />&nbsp;
                                                    <label> D-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded"
                                                    style="width: 10rem;margin-right: 10px;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="D-SO"
                                                        name="name1" />&nbsp;
                                                    <label> D-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="D-SR"
                                                        name="name1" />&nbsp;
                                                    <label> D-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="D-OFM"
                                                        name="name1" />&nbsp;
                                                    <label> D-OFM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="D-RED"
                                                        name="name1" />&nbsp;
                                                    <label> D-RED</label>
                                                </div>
                                            </div>
                                        </div> -->
                                        <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;margin-right: 10px;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOCM" value="D-OCM (On condition Maintainenance Task)" name="name1" />&nbsp;
                                                    <label> D-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;margin-right: 10px;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSO" value="D-SO (Scheduled Overhaul Task)" name="name1" />&nbsp;
                                                    <label> D-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSR" value="D-SR (Scheduled Replacement Task)" name="name1" />&nbsp;
                                                    <label> D-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOFM" value="D-OFM (On Failure Maintainenance)" name="name1" />&nbsp;
                                                    <label> D-OFM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateRED" value="D-RED (Redsigned Mandatory)" name="name1" />&nbsp;
                                                    <label> D-RED</label>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </p-card>
                            </div>
                            <div class="card" style="margin: 20px;" *ngIf="ConsequenceBasedMSS == 'E (Failure Mode:Hidden, Failure Mode with Condition : Combined with one or other failure mode events, Failure Mode Consequences : No effect on safety or environment)'" id="Consequence">
                                <p-card>
                                    <ng-template pTemplate="subtitle">
                                        <div class="card shadow mb-4">
                                            <div class="card-body">
                                                <img  class="img-fluid px-3 px-sm-4"
                                                    src="/dist/DPM/assets/MSS/E.JPG " alt="">
                                            </div>
                                        </div>
                                    </ng-template>
                                    <ng-template pTemplate="content">
                                        <!-- <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded"
                                                    style="width: 10rem;margin-right: 10px;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="E-OCM"
                                                        name="name1" />&nbsp;
                                                    <label> E-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="E-SO"
                                                        name="name1" />&nbsp;
                                                    <label> E-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="E-SR"
                                                        name="name1" />&nbsp;
                                                    <label> E-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="E-FFT"
                                                        name="name1" />&nbsp;
                                                    <label> E-FFT</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="E-OFM"
                                                        name="name1" />&nbsp;
                                                    <label> E-OFM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="radio" [(ngModel)]="MSSStratergy" value="E-RED"
                                                        name="name1" />&nbsp;
                                                    <label> E-RED</label>
                                                </div>
                                            </div>
                                        </div> -->
                                        <div class="row">
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;margin-right: 10px;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOCM" value="E-OCM (On condition Maintainenance Task)" name="name1" />&nbsp;
                                                    <label> E-OCM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSO" value="E-SO (Scheduled Overhaul Task)" name="name1" />&nbsp;
                                                    <label> E-SO</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSR" value="E-SR SR (Scheduled Replacement Task)" name="name1" />&nbsp;
                                                    <label> E-SR</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateFFT" value="E-FFT (Failure Findind Task)" name="name1" />&nbsp;
                                                    <label> E-FFT</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOFM" value="E-OFM (On Failure Maintainenance)" name="name1" />&nbsp;
                                                    <label> E-OFM</label>
                                                </div>
                                            </div>
                                            <div class="col"><br>
                                                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                                                    <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateRED" value="E-RED (Redsigned Mandatory)" name="name1" />&nbsp;
                                                    <label> E-RED</label>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                               
                                </p-card>
                            </div>

                            <style>
                                .disableddiv {
                                    pointer-events: none;
                                    cursor: default;
                                    text-decoration: none;
                                    opacity: 0.5;
                                    padding: 1px;
                                    background-color: #777
                                }
                            </style>
                            <div class="card" style="margin: 20px;" *ngIf="ADDMSSAvailabilityYNCheck" id="Availability">
                                <p-card>
                                    <ng-template pTemplate="subtitle">
                                        <p><b>1. Fill the data
                                            </b></p>
                                    </ng-template>
                                    <ng-template pTemplate="content">
                                        <div class="row" style="padding: 15px;">
                                            <label>Enter MSS Interval Selection Criteria</label>
                                        </div>
                                        <div class="row" style="padding: 15px;">
                                            <textarea class="form-control custom-textarea" class="form-control" [(ngModel)]="ADDMSSIntervalSelectionCriteria"  placeholder="Type MSS Interval Selection Criteria" required></textarea>
                                     </div>
                                        <div class="row" style="padding: 15px;">
                                            <label>Do you have Availability percentage?</label>
                                        </div>
                                        <div class="row" style="padding: 15px;">
                                            <div class="col-sm"></div>
                                            <div class="col-sm">
                                                Yes <td><input type="radio" [(ngModel)]="ADDMSSAvailabilityY" value="Yes"
                                                        name="AvailabilityYNCheck" />&nbsp;</td>
                                            </div>
                                            <div class="col-sm">
                                                No <td><input type="radio" [(ngModel)]="ADDMSSAvailabilityY" value="No"
                                                        name="AvailabilityYNCheck" />&nbsp;</td>
                                            </div>
                                            <div class="col-sm"></div>
                                        </div>
                                    </ng-template>
                                    <ng-template pTemplate="footer">
                                        <a class="btn btn-white" style="border:none"> </a>
                                        <button class="btn btn-dark" style="float:right;" (click)="Availability()"> <i
                                                class="fa fa-check" aria-hidden="true"></i></button>
                                    </ng-template>
                                </p-card>
                            </div>

                            <div class="card" style="margin: 20px;" *ngIf="ADDMSSexpectedAvailability" id="PlantStoppage">
                                <p-card>
                                    <ng-template pTemplate="subtitle">
                                        <div class="input-group mb-3">
                                            <label><b>1. What is your accepted Availability % : </b></label> &ensp;
                                            <input type="number" class="custom-form-control"
                                                [(ngModel)]="ADDMSSAvailabilityCheck" placeholder="Availability percentage">
                                        </div>
                                    </ng-template>
                                    <ng-template pTemplate="footer">
                                        <a class="btn btn-white" style="border:none"> </a>
                                        <button class="btn btn-dark" style="float:right;" (click)="AvailabilityYes()">
                                            <i class="fa fa-check" aria-hidden="true"></i></button>
                                    </ng-template>
                                </p-card>
                            </div>

                            <div class="card" style="margin: 20px;" *ngIf="ADDMSSAvailabilityPlantStoppage"
                                id="PlantStoppage">
                                <p-card>
                                    <ng-template pTemplate="subtitle">
                                        <p><b>How long days do you run your plant before taking stoppage?
                                        </b></p>
                                    </ng-template>
                                    <ng-template pTemplate="content">
                                        <div class="input-group mb-3">
                                            <select [(ngModel)]="ADDMSSstoppageDays" class="form-select" class="form-control"
                                                placeholder="Plant Stoppage Days">
                                                <option value="">Choose</option>
                                                <option value="Days" selected> Days</option>
                                                <option value="Week" selected> Week</option>
                                                <option value="Month" selected>Month</option>
                                                <option value="Year" selected>Year</option>
                                            </select>
                                            <input type="number" [(ngModel)]="ADDMSSstoppageDaysValue"
                                                name="stoppage Days Value" class="form-control">
                                        </div>
                                    </ng-template>
                                    <ng-template pTemplate="footer">
                                        <a class="btn btn-white" style="border:none"> </a>
                                        <button class="btn btn-dark" style="float:right;" (click)="StoppageDays()"> <i
                                                class="fa fa-check" aria-hidden="true"></i></button>
                                    </ng-template>
                                </p-card>
                            </div>

                            <div class="card" style="margin: 20px;" *ngIf="ADDMSSAvailabilityPlantStoppageTime"
                                id="PlantStoppagetime">
                                <p-card [ngClass]=" {disableddiv: PlantStoppageTime  ? true : false}">
                                    <ng-template pTemplate="subtitle">
                                        <label><b> How long is your stoppage? </b></label>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                        <div class="input-group mb-3">
                                            <select [(ngModel)]="ADDMSSstoppageDaysTime" class="form-select"
                                                class="form-control" placeholder="Plant Stoppage Days">
                                                <option value="">Choose</option>
                                                <option value="Days" selected> Days</option>
                                                <option value="Week" selected> Week</option>
                                                <option value="Month" selected>Month</option>
                                                <option value="Year" selected>Year</option>
                                            </select>
                                            <input type="number" [(ngModel)]="ADDMSSstoppageDaysTimeValue"
                                                name="stoppage Duration " class="form-control">
                                        </div>
                                    </ng-template>
                                    <ng-template pTemplate="footer">
                                        <a class="btn btn-white" style="border:none"> </a>
                                        <button class="btn btn-dark" style="float:right;" (click)="StoppageDuration()">
                                            <i class="fa fa-check" aria-hidden="true"></i></button>
                                    </ng-template>
                                </p-card>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mssbtn" style="margin: 20px;">
                    <a class="btn btn-white" style="border:none"> </a>
                    <button class="btn btn-dark" style="float:right;" *ngIf="MSSTreeButton" (click)="ADDMSSToTree()">ADD MSS</button>
                </div>
            </p-card>
    
        </div>
</div> 



<div *ngIf="FCAUpdatePageEnable" style="padding: 15px;">
    <p-card>
        <ng-template pTemplate="title">
            <label>Update FCA for {{LSFailureMode}} {{UpdateFCAFailureModeName}}</label>
        </ng-template>

        <ng-template pTemplate="content">
            <div class="row" style="padding: 15px;">
                <label>1. To help determine the failure rate, we need to know how reliable the equipment is. If the equipment were left alone for a period of time, would you expect this failure to have happened.</label>
              <div class="row">
                  <div class="col-md-6">
                    <div class="input-group mb-3">
                        <select [(ngModel)]="Updateinterval" class="form-select"  class="form-control" >
                            <option value="">Choose</option>
                                <option value="Days" selected> Days</option>
                                <option value="Week" selected> Week</option>
                                <option value="Month" selected>Month</option>
                                <option value="Year" selected>Year</option>
                            </select>
                            </div>
                  </div>
                  <div class="col-md-1"></div>
                  <div class="col-md-5">
                    <input type="number" [(ngModel)]="UpdateintervalValue" name="Interval" class="form-control">
                  
                  </div>
              </div>
            </div>

            <div class="row" style="padding: 15px;">
                <label>2. Are there any prior warnings before the failure occure? Tick all that apply.</label>
              <div class="row">
                <div class="row" >
                    <div class="col-sm"><br>
                    <p-card>
                   Vibration<br>
                   <td><input type="checkbox" [(ngModel)]="UpdateVibration" value="Vibration" name="name1" />&nbsp;</td>
                    </p-card></div>
                  <div class="col-sm"><br>
                    <p-card>
                    Noice<br>
                    <td><input type="checkbox" [(ngModel)]="UpdateNoice"  value="Noice" name="name1" />&nbsp;</td>
                    </p-card></div>
                   <div class="col-sm"><br>
                    <p-card>
                    Leakage<br>
                    <td><input type="checkbox" [(ngModel)]="UpdateLeakage" value="Leakage" name="name1" />&nbsp;</td>
                    </p-card></div>
                   <div class="col-sm"><br>
                    <p-card>
                    Performance drop<br>
                    <td><input type="checkbox" [(ngModel)]="UpdatePerformanceDrop" value="Performance drop" name="name1" />&nbsp;</td>
                    </p-card></div>
                   <div class="col-sm"><br>
                    <p-card>
                    Temprature Change<br>
                    <td><input type="checkbox" [(ngModel)]="UpdateTempratureChange" value="Temprature Change" name="name1" />&nbsp;</td>
                    </p-card></div>
                    <div class="col-sm"><br>
                     <p-card>
                        Emmision changes<br>
                        <td><input type="checkbox" [(ngModel)]="UpdateEmmisionChange"  value="Emmision changes" name="name1" />&nbsp;</td>
                        </p-card></div>
                       <div class="col-sm"><br>
                        <p-card>
                        Increase Lubricant Consumption<br>
                        <td><input type="checkbox" [(ngModel)]="UpdateIncreaseLubricantConsumption" value="Increase Lubricant Consumption" name="name1" />&nbsp;</td>
                        </p-card></div>
                       <div class="col-sm"><br>
                        <p-card>
                        Other<br>
                        <td><input type="checkbox" [(ngModel)]="UpdateOther" value=" Other" name="name1" />&nbsp;</td>
                        </p-card></div>
                  </div>
             </div>
            </div>


            <div class="row" style="padding: 15px;">
                <label>3. If there are any warning signs, can they be monitored? if so, how?</label>
                 <div class="row">
                    <div class="col-sm"><br>
                        <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                   Human Senses<br>
                   <td><input type="checkbox" [(ngModel)]="UpdateHumanSenses" value=" Human Senses" name="name1" />&nbsp;</td>
                  </div></div>
                  <div class="col-sm"><br>
                    <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                    Existing instrumentation (portable or fixed)<br>
                    <td><input type="checkbox" [(ngModel)]="UpdateExistingInstumentation"  value="Existing instumentation(portable or fixed)" name="name1" />&nbsp;</td>
                   </div></div>
                   <div class="col-sm"><br>
                    <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                    New instrumentation (portable or fixed)<br>
                    <td><input type="checkbox" [(ngModel)]="UpdateNewInstumentation"  value="New instumentation(portable or fixed)" name="name1" />&nbsp;</td>
                   </div></div>
                   <div class="col-sm"><br>
                    <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                    Process Conditions<br>
                    <td><input type="checkbox" [(ngModel)]="UpdateProcessCondtions"  value="Process Condtions" name="name1" />&nbsp;</td>
                   </div></div>
                   <div class="col-sm"><br>
                        <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                        Sample Anyalysis<br>
                        <td><input type="checkbox" [(ngModel)]="UpdateSampleAnyalysis" value="Sample Anyalysis" name="name1" />&nbsp;</td>
                    </div>
                   </div>
                </div>
            
            </div>

            <div class="row" style="padding: 15px;">
                <label>4. What is the likely interval between detacting a warning sign and the failure happening?</label>
              <div class="row">
                  <div class="col-md-6">
                    <div class="input-group mb-3">
                        <select [(ngModel)]="UpdateffInterval" class="form-select"  class="form-control" >
                            <option value="">Choose</option>
                                <option value="Days" selected> Days</option>
                                <option value="Week" selected> Week</option>
                                <option value="Month" selected>Month</option>
                                <option value="Year" selected>Year</option>
                            </select>
                            </div>
                  </div>
                  <div class="col-md-1"></div>
                  <div class="col-md-5">
                    <input type="number" [(ngModel)]="UpdateffIntervalValue" name="Interval" class="form-control">
                  
                  </div>
              </div>
            </div>


            <div class="row" style="padding: 15px;">
                
                <div class="row">
                    <div class="col-md-7">
                        <label>5. If the failure is not evident during normal operation can be found by testing and inspection?
                        </label>
                    </div>
                    <div class="col-md-2">
                        Yes <td><input type="radio" [(ngModel)]="UpdateCommentFIEYN" value="Failure is not Evident" name="name1" />&nbsp;</td>
                    </div>
                    <div class="col-md-2">
                        No <td><input type="radio" [(ngModel)]="UpdateCommentFIEYN" value="Failure is Evident" name="name1" />&nbsp;</td>
                    </div>
                    <div class="col-sm"></div>
                </div>
            
            </div>

            <div class="row" style="padding: 15px;">
                <div class="row">
                    <div class="col-md-8">
                        <label>6. Some of the failure cannot avoided by maintenance. Would planned replacement or refurbishment
                            maintainace prevent or mitigate this failure Mode?
                        </label>
                    </div>
                    <div class="col-md-2">
                        Yes <td><input type="radio" [(ngModel)]="UpdateCommentFIEYN2"  value=" planned replacement or refurbishment maintainace prevent or mitigate this failure Mode - Yes"     name="name2" />&nbsp;</td>
                    </div>
                    <div class="col-md-2">
                        No <td><input type="radio" [(ngModel)]="UpdateCommentFIEYN2"  value=" planned replacement or refurbishment maintainace prevent or mitigate this failure Mode - No" name="name2" />&nbsp;</td>
                    </div>
                    <div class="col-sm"></div>
                </div>
            </div>

            <div>
                <div class="row" style="padding: 15px;">
                    <label>7. Do you have any comments regarding the failure of this equipment or how the maintainace of the equipment
                            could be improved</label>
                </div>
                <div class="row" style="padding-top:5px; padding-left:15px; padding-right:15px;">
                    <textarea [(ngModel)]="UpdateFCAFreeText" class="form-control custom-textarea" id="message" name="body" rows="3" placeholder="Add comments Here (optional)"></textarea>
        
                </div>
            </div>
            <div class="row" style="padding: 15px;" *ngIf="!UpdateSafeLife == 0">
                <div class="col-md-3">
                    <label> Safe Life in years</label>
                </div>
                <div class="col-md-3">
                    <select #value (change)="UpdateFCASafeLifeCalculation(value.value)" style="width: 50%;" class="form-control">
                        <option value="L10">L10 life</option>
                        <option value="L20">L20 life</option>
                    </select>     
                </div>
                <div class="col-md-3">
                    <input type="number" [(ngModel)]="UpdateFinalSafeUsefulLife" name="safelife" class="form-control" disabled>
                </div>
            </div>
            <div class="row" style="padding: 15px;" *ngIf="!UpdateUsefulLife == 0">
                <div class="col-md-3">
                    <label> Useful Life</label>
                </div>
                <div class="col-md-3">
                    <input type="number" [(ngModel)]="UpdateFinalSafeUsefulLife" name="usefullife" class="form-control">
                </div>
            </div>
            <div class="row" style="padding: 15px;" *ngIf="UpdateWebalYN == '' || UpdateWebalYN == 'No' " >
                <div class="col-md-3">
                    <label>Alpha</label>
                </div>
                <div class="col-md-3">
                    <input type="number" [(ngModel)]="UpdateAlpha" name="UpdateWebalYN" class="form-control">
                </div>
            </div>
            <div class="row" style="padding: 15px;"  *ngIf="UpdateWebalYN == '' || UpdateWebalYN == 'No' ">
                <div class="col-md-3">
                    <label>Beta</label>
                </div>
                <div class="col-md-3">
                    <input type="number" [(ngModel)]="UpdateBeta" name="UpdateWebalYN" class="form-control">
                </div>
            </div>
            <div class="row" style="padding: 15px;">
                <div class="col-md-3">
                    <label>Do you want new alpha and beta values using webal or you can directly change alpha and beta values from the above</label>
                    
                </div>
                <div class="col-sm">
                    Yes <td><input type="radio" [(ngModel)]="UpdateWebalYN" value="YES" name="ABYN" />
                </div>
                <div class="col-sm">
                    No <td><input type="radio" [(ngModel)]="UpdateWebalYN" value="No" name="ABYN" />
                </div>
            </div>

            <div class="row" style="padding: 15px;" *ngIf="UpdateWebalYN == 'YES'">
                <label> Provide List of Days for Failure Mode in excel format to calculate alpha, beta.
                </label>
                <p><small>Note : Put just one column in Excel with column name 'Days'</small></p>
            </div>
            
            <div class="row" style="padding: 15px;" *ngIf="UpdateWebalYN == 'YES'">
                <div class="col-sm col-md-4 form-group">
                    <input type="file" class="form-control-file btn btn-secondary" (change)="UpdateWebal($event)" placeholder="Upload file" accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                
                </div>
            </div>
            <div class="row" style="padding: 15px;" *ngIf="UpdateWebalYN == 'YES'">
                <label>Alpha  :  {{UpdateAlpha  | number : '1.0-2' }}</label>
            </div>
            <div class="row" style="padding: 15px;" *ngIf="UpdateWebalYN == 'YES'">
                <label>Beta : {{UpdateBeta  | number : '1.0-2' }}</label>
            </div>
            
            <div class="row" style="padding: 15px;">
                <a class="btn btn-white" style="border:none"> </a>
                <button *ngIf="UpdatePatternAddEnable" label="Next" style="float: right;" (click)="PatternUpdateAdd()" type="button" class="btn btn-dark">Update</button>
            </div>
        </ng-template>

    </p-card>
</div>
<style>
    img-fluid {
            max-width: 83%;
            height: fit-content;
        }
</style>

<div class="card" style="margin: 20px;"  *ngIf="UpdateMSSImageFlag" id="Consequence">
    <p-card >
    <ng-template pTemplate="subtitle">
        <div class="card shadow mb-4">
            <div class="card-body">
                <a class="cell-icon-button cdk-close" style="float:right;color: black;" (click)="CloseMSSUpdateView()" pTooltip="Close" tooltipPosition="top">
                    <i class="far fa-times-circle "></i>
                </a>
                <img class="img-fluid px-3 px-sm-4" 
                        src="{{UpdateMSSImagePath}}"alt="">
            </div>
        </div>
    </ng-template>
    <ng-template pTemplate="content">
        <div class="row">
            <!-- <div class="col" *ngFor="let a of UpdateMSSImageValues" ><br>
                <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;margin-right: 10px;">
                    <input type="checkbox"[(ngModel)]="UpdatedMSSStartegy" value="{{a}}" name="name1" />&nbsp;
                    <label> {{a}}</label>
                </div>
            </div> -->
            <div class="row">
                <div class="col"><br>
                    <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;margin-right: 10px;">
                        <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOCM" value="{{UpdateMSSConsequence}}-OCM (On Condition Maintainenance Task)" name="name1" />&nbsp;
                        <label> {{UpdateMSSConsequence}}-OCM</label>
                    </div>
                </div>
                <div class="col"><br>
                    <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                        <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSO" value="{{UpdateMSSConsequence}}-SO (Scheduled Overhaul Task)" name="name1" />&nbsp;
                        <label> {{UpdateMSSConsequence}}-SO</label>
                    </div>
                </div>
                <div class="col"><br>
                    <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                        <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateSR" value="{{UpdateMSSConsequence}}-SR (Scheduled Replacement Task)" name="name1" />&nbsp;
                        <label> {{UpdateMSSConsequence}}-SR</label>
                    </div>
                </div>
                <div class="col" *ngIf="UpdateMSSConsequence == 'A' || UpdateMSSConsequence == 'E'"><br>
                    <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                        <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateFFT" value="{{UpdateMSSConsequence}}-FFT (Failure Finding Task)" name="name1" />&nbsp;
                        <label> {{UpdateMSSConsequence}}-FFT</label>
                    </div>
                </div>
                <div class="col"><br>
                    <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                        <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateRED" value="{{UpdateMSSConsequence}}-RED (Redsigned Mandatory)" name="name1" />&nbsp;
                        <label> {{UpdateMSSConsequence}}-RED</label>
                    </div>
                </div>
                <div class="col" *ngIf="UpdateMSSConsequence != 'B'"><br>
                    <div class="shadow p-3 mb-5 bg-white rounded" style="width: 10rem;">
                        <input type="checkbox" (change)="UpdateStrategySelect()" [(ngModel)]="UpdateOFM" value="{{UpdateMSSConsequence}}-OFM (On Failure Maintainenance)" name="name1" />&nbsp;
                        <label> {{UpdateMSSConsequence}}-OFM</label>
                    </div>
                </div>
            </div>
        </div> 
        <div class="row">
            <div class="col">
                <label>MSS Interval Selection Criteria</label>
            </div>
            <div class="col">
                <textarea class="form-control custom-textarea" class="form-control" [(ngModel)]="UpdateMSSIntervalSelectionCriteria"  placeholder="Type MSS Interval Selection Criteria" required></textarea>
      
            </div>
        </div>
        <div class="row" style="padding: 15px;">
            <div class="col-md-6">
                <label>Do you have Availability percentage? </label>
            </div>
            <div class="col-sm">
                Yes <td><input type="radio" (change)="UpdateMSSAvailabilityYN()" [(ngModel)]="UpdateMSSAvailabilityY" value="Yes" name="UpdateMSSAvailabilityYNCheck" />&nbsp;</td>
            </div>
            <div class="col-sm">
                No <td><input type="radio" (change)="UpdateMSSAvailabilityYN()" [(ngModel)]="UpdateMSSAvailabilityY" value="No" name="UpdateMSSAvailabilityYNCheck" />&nbsp;</td>
            </div>
            <div class="col-sm"></div>
        </div>
        <div *ngIf="UpdateMSSDirectAvailability" class="row" style="padding: 15px;">
            <div class="input-group mb-3">
                <label><b > What is your accepted Availability % : </b></label> &ensp;
                <input type="number"  class="custom-form-control" [(ngModel)]="UpdateMSSAvailabilityCheck" placeholder="Availability percentage">
            </div>
        </div>
        <div *ngIf="UpdateMSSIndirectAvailability" class="row" style="padding: 15px;">
            <div class="input-group mb-3">
                <label><b >How long do you run your plant before taking stoppage? </b></label>
            <select [(ngModel)]="UpdateMSSstoppageDays" class="form-select"  class="form-control" placeholder="Plant Stoppage Days">
                
                    <option value="Days" selected> Days</option>
                    <option value="Week" selected> Week</option>
                    <option value="Month" selected>Month</option>
                    <option value="Year" selected>Year</option>
                </select>
                <input type="number" [(ngModel)]="UpdateMSSstoppageDaysValue" name="stoppage Days Value" class="form-control">
            </div>
        </div>

        <div *ngIf="UpdateMSSIndirectAvailability" class="row" style="padding: 15px;">
            <div class="input-group mb-3">
                <label><b > How long is your stoppage? </b></label>
            <select [(ngModel)]="UpdateMSSstoppageDaysTime" class="form-select"  class="form-control" placeholder="Plant Stoppage Days">
                
                    <option value="Days" selected> Days</option>
                    <option value="Week" selected> Week</option>
                    <option value="Month" selected>Month</option>
                    <option value="Year" selected>Year</option>
                </select>
                <input type="number" [(ngModel)]="UpdateMSSstoppageDaysTimeValue"  name="stoppage Duration " class="form-control">
            </div>
        </div>
        
        <div class="row">
            <div class="col">
                <label>Previous MSS Availability % </label>
            </div>
            <div class="col">
                <input type="number" [(ngModel)]="UpdateMSSAvailability" name="availability" class="form-control" id="availability" disabled>
            </div>
        </div>
    </ng-template>
    <ng-template pTemplate="footer">
        <a class="btn btn-white" style="border:none" > </a>
        <!-- <button class="btn btn-dark" style="float:left;" (click)="UpdateMSSClose()">Close</button> -->
        <button class="btn btn-dark" style="float:right;" (click)="UpdateMSSToTree()">Update MSS</button>
    </ng-template>
</p-card>
</div>


