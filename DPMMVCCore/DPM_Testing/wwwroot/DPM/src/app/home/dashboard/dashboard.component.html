<!-- <div class="card" style="margin: 15px;">
    <iframe width="1140" height="561.25"
        src="https://app.powerbi.com/reportEmbed?reportId=8229f0b7-523d-46d9-9a54-b53438061991&autoAuth=true&ctid=606acdf9-2783-4b1f-9afc-a0919c38927d&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLXdlc3QtZXVyb3BlLWUtcHJpbWFyeS1yZWRpcmVjdC5hbmFseXNpcy53aW5kb3dzLm5ldC8ifQ%3D%3D"
        frameborder="0" allowFullScreen="true"></iframe>
</div> -->

<p-toast position="top-right"></p-toast>
<div class="card shadow div-in-middle" style="width: 70rem;">
    <div style="text-align: center">
        <h5><b> Trained Classification data</b> </h5>
    </div><br>
    <div class="row">
        <div class="col-md-2">
            <div class="card">
                <select name="fmtype" [(ngModel)]="fmtype" (ngModelChange)="FModeType()">
                    <option value="">Select Failuer Mode</option> Type
                    <ng-container *ngFor="let mode of FMList">
                        <option [value]="mode.FMname" name="fmtype">{{mode.FMname}}</option>
                    </ng-container>
                </select>
            </div>
        </div>
        <div class="col-md-2">
            <div class="card">
                <select name="selectedYear" [(ngModel)]="selectedYear" (ngModelChange)="onChangeYear()">
                    <option value="">Select Year</option>
                    <ng-container *ngFor="let year of yearlist">
                        <option [value]="year.yearname" name="selectedYear">{{year.yearname}}</option>
                    </ng-container>
                </select>
            </div>
        </div>
        <div class="col-sm">
            <div class="card" style="width:12rem;border:none">
                <p-card>
                    <strong style="text-align: left;color:#008000">Normal </strong><br>
                    <h1 style="text-align: center;color:#008000">{{Normalcount}}</h1>
                </p-card>
            </div>
        </div>
        <div class="col-sm">
            <div class="card" style="width:12rem;border:none">
                <p-card>
                    <strong style="text-align: left;color:#FFA500">Incipient</strong><br>
                    <h1 style="text-align: center;color:#FFA500">{{Incipientcount}}</h1>
                </p-card>
            </div>
        </div>
        <div class="col-sm">
            <div class="card" style="width:12rem;border:none">
                <p-card>
                    <strong style="text-align: left;color:#FF0000">Degrade</strong><br>
                    <h1 style="text-align: center;color:#FF0000">{{Degradecount}}</h1>
                </p-card>
            </div>

        </div>
    </div>
    <br>
    <div class="container">
        <div class="row">
            <div>
                <div class="row">
                    <div class="col-sm">
                        <div class="card">
                            <strong> Screw Compressor Classification chart</strong>
                            <canvas id="canvasClass"></canvas>
                        </div>
                    </div>
                </div><br>
                <div class="col-sm">
                    <div class="card">
                        <strong> Screw Compressor Classification chart</strong>
                        <canvas id="polarArea"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-8">
                <div class="card">
                    <strong> Screw Compressor Classification chart</strong>
                    <canvas id="canvas1">{{ chart }}</canvas>
                </div>
            </div>
        </div>
    </div>
</div><br><br>

<div class="card shadow div-in-middle" style="width: 70rem;" *ngIf="PredictionShow">
    <div style="text-align: center">
        <h5><b> Prediction data</b> </h5>
    </div><br>
    <div style="margin: 20px;">
        <div class="row">
            <div class="col-md-2">
                <div class="card">
                <button class="btn btn-dark"  (click)="FutuerPredictionClick()">Futuer Prediction</button>
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-2">
                <div class="card">
                    <select name="fmtype" [(ngModel)]="fmtype" (ngModelChange)="PredictFModeType()">
                        <option value="">Select Failuer Mode</option> Type
                        <ng-container *ngFor="let mode of FMList">
                            <option [value]="mode.FMname" name="fmtype">{{mode.FMname}}</option>
                        </ng-container>
                    </select>
                </div>
            </div>
            <div class="col-md-2">
                <div class="card">
                    <select name="PredictionselectedYear" [(ngModel)]="PredictionselectedYear"
                        (ngModelChange)="PredictFModeType()">
                        <option value="">Select Year</option>
                        <ng-container *ngFor="let year of Predictyearlist">
                            <option [value]="year.Predictyearname" name="PredictionselectedYear">
                                {{year.Predictyearname}}</option>
                        </ng-container>
                    </select>
                </div>
            </div>
            <div class="col-sm">
                <div class="card" style="width:12rem;border:none">
                    <p-card>
                        <strong style="text-align: left;color:#008000">Normal </strong><br>
                        <h1 style="text-align: center;color:#008000">{{PredictionNormalcount}}</h1>
                    </p-card>
                </div>
            </div>
            <div class="col-sm">
                <div class="card" style="width:12rem;border:none">
                    <p-card>
                        <strong style="text-align: left;color:#FFA500">Incipient</strong><br>
                        <h1 style="text-align: center;color:#FFA500">{{PredictionIncipientcount}}</h1>
                    </p-card>
                </div>

            </div>
            <div class="col-sm">
                <div class="card" style="width:12rem;border:none">
                    <p-card>
                        <strong style="text-align: left;color:#FF0000">Degrade</strong><br>
                        <h1 style="text-align: center;color:#FF0000">{{PredictionDegradecount}}</h1>
                    </p-card>
                </div>

            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div>
                <div class="row">
                    <div class="col-sm">
                        <div class="card">
                            <strong> Prediction Pie chart</strong>
                            <canvas id="PredictionPie"></canvas>
                        </div>
                    </div>
                </div><br>
                <div class="col-sm">
                    <div class="card">
                        <strong> Prediction Donut chart</strong>
                        <canvas id="PredictioncanvasClass"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-8">
                <div class="card">
                    <strong> Prediction chart</strong>
                    <canvas id="Predictionbarline"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>
<br><br>
<div class="card shadow div-in-middle" style="width: 70rem;" *ngIf="FuterPredictionShow">
    <div style="text-align: center">
        <h5><b> Futuer Prediction data</b> </h5>
    </div><br>
    <div class="row">
        <div class="col-md-2">
            <div class="card">
            <button class="btn btn-dark"  (click)="PredictionOnClick()"> Prediction</button>
            </div>
        </div>
    </div>
    <div style="margin: 20px;">
        <div class="row">
            <div class="col-md-2">
                <div class="card">
                    <select name="fmtype" [(ngModel)]="fmtype" (ngModelChange)="FutuerDates()">
                        <option value="">Select Failuer Mode</option> Type
                        <ng-container *ngFor="let mode of FMList">
                            <option [value]="mode.FMname" name="fmtype">{{mode.FMname}}</option>
                        </ng-container>
                    </select>
                </div>
            </div>
            <div class="col-md-2">
                <div class="card">
                    <select name="FutuerselectedYear" [(ngModel)]="FutuerselectedYear"
                        (ngModelChange)="FutuerDates()">
                        <option value="">Select Year</option>
                        <ng-container *ngFor="let year of FuterPredictyearlist">
                            <option [value]="year.FutuerPredictyearname" name="FutuerselectedYear">
                                {{year.FutuerPredictyearname}}</option>
                        </ng-container>
                    </select>
                </div>
            </div>
            <div class="col-sm">
                <div class="card" style="width:12rem;border:none">
                    <p-card>
                        <strong style="text-align: left;color:#008000">Normal </strong><br>
                        <h1 style="text-align: center;color:#008000">{{FutuerPredictionNormalcount}}</h1>
                    </p-card>
                </div>
            </div>
            <div class="col-sm">
                <div class="card" style="width:12rem;border:none">
                    <p-card>
                        <strong style="text-align: left;color:#FFA500">Incipient</strong><br>
                        <h1 style="text-align: center;color:#FFA500">{{FutuerPredictionIncipientcount}}</h1>
                    </p-card>
                </div>

            </div>
            <div class="col-sm">
                <div class="card" style="width:12rem;border:none">
                    <p-card>
                        <strong style="text-align: left;color:#FF0000">Degrade</strong><br>
                        <h1 style="text-align: center;color:#FF0000">{{FutuerPredictionDegradecount}}</h1>
                    </p-card>
                </div>

            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div>
                <div class="row">
                    <div class="col-sm">
                        <div class="card">
                            <strong> Futuer Prediction Pie chart</strong>
                            <canvas id="FutuerPredictionPie"></canvas>
                        </div>
                    </div>
                </div><br>
                <div class="col-sm">
                    <div class="card">
                        <strong>Futuer Prediction Donut chart</strong>
                        <canvas id="donughtChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-8">
                <div class="card">
                    <strong>Futuer Prediction chart</strong>
                    <canvas id="BarChart"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>
<br><br>
<!-- <div class="card shadow div-in-middle" style="width: 100%;overflow: scroll;">
    <div class="card">
        <div style="text-align: center">
            <h5><b> Combination Of Prediction & Futuer Prediction</b> </h5>
        </div><br>
        <div class="chartWrapper">
            <div class="chartAreaWrapper">
                <canvas id="ComboChart" height="400" width="2000"></canvas>
            </div>
        </div>
    </div>
</div> -->
<br>
<div class="card shadow div-in-middle" style="width: 100%;overflow: scroll;">
    <div class="card">
        <div style="text-align: center">
            <h5><b>Combination Of Prediction & Futuer Prediction</b></h5>
        </div><br>
        <div class="col-md-2">
            <div class="card">
                <select [(ngModel)]="date" class="form-select" (change)="ComboDates()" class="form-control">
                    <option value="">Choose..</option>
                    <option value="1Week" selected>After 1 Week</option>
                    <option value="15days" selected>After 15 Days</option>
                    <option value="1Month" selected>After 1 Month</option>
                </select>
            </div>
        </div><br>
        <div>
            <div class="graph" style="width:67rem;" id="graph" #graph ></div>
        </div><br>
    </div>
</div>
<br><br>


<div class="card shadow div-in-middle" style="width: 70rem;">
    <div class="row">
        <div class="col-sm" style="padding:30px;">
            <label style=" margin-right: 12px;">
                <h5>Machine type</h5>
            </label>
            <select [(ngModel)]="MachineType" class="form-select" (change)="MachineEquipmentSelect()"
                class="form-control">
                <option value="">Choose..</option>
                <option value="Compressor" selected>Compressor</option>
                <option value="Pump" selected>Pump</option>
            </select>
        </div>
        <div class="col-sm" style="padding:30px;">
            <label style=" margin-right: 12px;">
                <h5>Equipment Type</h5>
            </label>
            <select [(ngModel)]="EquipmentType" class="form-select" (change)="MachineEquipmentSelect()"
                class="form-control">
                <option value="">Choose..</option>
                <option *ngFor="let EL of EquipmentList" [ngValue]="EL">{{EL}}</option>
            </select>
        </div>
        <div class="col-sm" style="padding:30px;">
            <label style=" margin-right: 12px;">
                <h5>Tag Number</h5>
            </label>
            <select class="form-select" [(ngModel)]="SelectedTagNumber" class="form-control">
                <option value="">Choose..</option>
                <option *ngFor="let EL of TagList" [ngValue]="EL">{{EL}}</option>
            </select>
        </div>
        <div class="col-sm" style="padding:30px;">
            <div class="row">
                <div class="col-sm" style="padding:30px;">
                    <a class="btn btn-dark" (click)="getRecordsByEqui()">Done</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="CostRisk">
    <div class="card" style="margin: 20px;"
        *ngFor="let row of prescriptiveRecords.centrifugalPumpPrescriptiveFailureModes">
        <div style="text-align: center">
            <h5><b>Cost Benefit Risk Analysis</b> </h5>
        </div>
        <div class="container" style="margin: 10px;">
            <div class="sidebar-brand-icon col-sm-2" style="float: right">
                <div class="image-container">
                    <img width="100%" src="dist/DPM/assets/img/DPM_LOGO.png" alt="">
                </div>
            </div>
            </div>
            <!-- <div class="row"  style="margin: 5px;">
                <div class="col-sm">
                    <div class="card"><br>
                        <strong style="text-align: center;color:mediumvioletred">Machine Type : {{MachineType}}
                        </strong><br>
                    </div>
                </div>
                <div class="col-sm">
                    <div class="card"><br>
                        <strong style="text-align: center;color:mediumvioletred">Equipment Type : {{EquipmentType}}
                        </strong><br>
                    </div>
                </div>
                <div class="col-sm">
                    <div class="card"><br>
                        <strong style="text-align: center;color:mediumvioletred">Tag Number : {{SelectedTagNumber}}
                        </strong><br>
                    </div>
                </div>
            </div><br> -->
            <div class="row" style="margin: 10px;">
                <p-card>
                    <div class="col-sm">
                        <b>Total PONC: {{row.TotalPONC}} K</b>
                    </div>
                </p-card>
                <div class="col col-lg-2"></div>
                <p-card>
                    <div class="col-sm">
                        <b>ETBF: {{row.ETBF}} Y</b>
                    </div>
                </p-card>
                <div class="col-sm"> </div>
            </div>
        <br><br>
        <div class="container">
            <div class="row">
                <div class="card" style="border: none;">
                    <div class="col-sm">
                        <p-card>
                            <!-- <b>Criticality Maintenance Factor : M</b> -->
                            <b>Economic Risk : M</b>
                        </p-card>
                    </div>
                </div>
                <div class="col-sm"></div>
                <div class="card" style="border: none;">
                    <div class="col-sm">
                        <p-card>
                            <b>Cost Without D.P.M (Total Cost): {{row.EconomicRiskWithoutMaintenance}} K</b>
                        </p-card>
                    </div>
                </div>
                <div class="col-sm"></div>
                <div class="card" style="border: none;">
                    <div class="col-sm">
                        <p-card>
                            <b>Cost With D.P.M (Total Cost): {{row.ResidualRiskWithMaintenance}} K</b>
                        </p-card>
                    </div>
                </div>
            </div>
        </div><br>
        <div class="row">
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <b>With D.P.M MEI </b>
                    <canvas id="gaugechart"></canvas>
                    <h1 style="text-align: center;color: blue;">{{DPMMEI}}</h1>
                </div>
            </div>
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <b>Without D.P.M MEI</b>
                    <canvas id="canvasDPM"></canvas>
                    <h1 style="text-align: center;color: red;">{{DPMWithoutMEI}}</h1>
                </div>
            </div>
        </div>
    </div> <br><br>
    <div *ngIf="PrescriptiveMaintenance">
        <div class="card shadow div-in-middle" style="width: 70rem;">
            <div style="text-align: center">
                <h5><b> Prescriptive & Maintenance</b> </h5>
            </div><br>
            <div class="row">
                <div class="col-sm">
                    <div class="card"><br>
                        <strong style="text-align: center;color:mediumvioletred">Machine Type : {{MachineType}}
                        </strong><br>
                    </div>
                </div>
                <div class="col-sm">
                    <div class="card"><br>
                        <strong style="text-align: center;color:mediumvioletred">Equipment Type : {{EquipmentType}}
                        </strong><br>
                    </div>
                </div>
                <div class="col-sm">
                    <div class="card"><br>
                        <strong style="text-align: center;color:mediumvioletred">Tag Number : {{SelectedTagNumber}}
                        </strong><br>
                    </div>
                </div>
            </div><br>
            <div class="row">
                <div class="col-sm" style="margin: 10px;">
                    <div class="card"><br>
                        <strong style="text-align: center;">Component Criticality Factor</strong>
                        <h1 style="text-align: center;color: darkblue;">{{ComponentCriticalityFactor}}</h1>
                    </div>
                </div>
                <div class="col-sm" style="margin: 10px;">
                    <div class="card"><br>
                        <strong style="text-align: center;">Component Rating </strong><br>
                        <h1 style="text-align: center;color: darkblue">{{ComponentRating}}</h1>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm" style="margin: 20px;">
                    <div class="card"><br>
                        <strong style="text-align: center;">Frequency Maintenance </strong><br>
                        <h5 style="text-align: center;color: darkblue;">{{CFrequencyMaintainenance}}</h5>
                    </div>
                </div>
                <div class="col-sm" style="margin: 20px;">
                    <div class="card"><br>
                        <strong style="text-align: center;">Condition Monitoring </strong><br>
                        <h5 style="text-align: center;color: brown;">{{CConditionMonitoring}}</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>

  