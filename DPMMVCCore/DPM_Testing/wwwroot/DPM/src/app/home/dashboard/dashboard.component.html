<div class="card" style="margin: 15px;">

    <iframe width="1140" height="561.25"
        src="https://app.powerbi.com/reportEmbed?reportId=8229f0b7-523d-46d9-9a54-b53438061991&autoAuth=true&ctid=606acdf9-2783-4b1f-9afc-a0919c38927d&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLXdlc3QtZXVyb3BlLWUtcHJpbWFyeS1yZWRpcmVjdC5hbmFseXNpcy53aW5kb3dzLm5ldC8ifQ%3D%3D"
        frameborder="0" allowFullScreen="true"></iframe>

</div>
<div class="card shadow div-in-middle" style="width: 70rem;">
    <div style="text-align: center">
        <h5><b>Compressor With Classification data</b> </h5>
    </div><br>
    <div style="margin: 20px;">
        <div class="row">
            <div class="col-sm">
                <div class="col-sm" style="padding:30px;">
                    <label style=" margin-right: 12px;">
                        <h6>Failure Modes</h6>
                    </label>
                    <select [(ngModel)]="FailuerModeType" class="form-select" (change)="FailureModeType()"
                        class="form-control">
                        <option value="">Choose..</option>
                        <option value="CF" selected>CF</option>
                        <option value="SSRB" selected>SSRB</option>
                    </select>
                </div>
            </div>
            <div class="col-sm" style="padding:30px;">
                <label style=" text-align: center;">
                    <h6>Choose Dates</h6>
                </label>
                <div class="form-group mx-sm-3 mb-2">
                    <select name="selectedYear" [(ngModel)]="selectedYear" (ngModelChange)="onChangeYear()">
                        <option selected="true" disabled="true">Select Year</option>
                        <ng-container *ngFor="let year of availableYears">
                            <option [ngValue]="year" name="selectedYear">{{year}}</option>
                        </ng-container>
                    </select>
                    <!-- <ul *ngIf="selectedYear">
                        <li *ngFor="let month of availableMonths; let i = index">
                            <input type="checkbox" id="month.name" name="month.name"
                                [(ngModel)]="selectionModel[selectedYear][i]['selected']"
                                (ngModelChange)="onChangeMonth()" /> {{month.name}}
                        </li>
                    </ul> -->
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <div style="display: block; width: 400px;">
                        <strong> Screw Compressor Classification chart</strong>
                        <canvas id="canvas1" height="320">{{ chart }}</canvas>
                    </div>
                </div>
            </div>
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <strong> Screw Compressor Classification chart</strong>
                    <canvas id="canvasClass"></canvas>
                </div>
            </div>
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <strong> Screw Compressor Classification chart</strong>
                    <canvas id="polarArea"></canvas>
                </div>
            </div>
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <strong> Screw Compressor Classification chart</strong>
                    <canvas id="barline"></canvas>
                </div>
            </div>
        </div>
    </div>
    </div><br><br>
    <div class="card shadow div-in-middle" style="width: 70rem;">
        <div style="text-align: center">
            <h5><b> Screw Compressor Prediction data</b> </h5>
        </div><br>
        <div class="row">
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <!-- <div style="display: block; width: 400px;">
                        <strong> Prediction chart</strong>
                        <canvas id="Predictioncanvas1" height="320">{{ chart }}</canvas>
                    </div> -->
                    <strong> Prediction Pie chart</strong>
                    <canvas id="PredictionPie"></canvas>
                </div>
            </div>
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <strong> Prediction Donut chart</strong>
                    <canvas id="PredictioncanvasClass"></canvas>
                </div>
            </div>
            <div class="col-sm" style="margin: 15px;">
                <div class="card">
                    <strong> Prediction Polar Area chart</strong>
                    <canvas id="PredictionpolarArea"></canvas>
                </div>
            </div>
            <div class="col-sm" style="margin: 20px;">
                <!-- <div class="card">
                    <strong> Prediction chart</strong>
                    <canvas id="Predictionbarline"></canvas>
                </div> -->
            </div>
        </div>
    </div>
<br><br>

    <div class="card shadow div-in-middle" style="width: 70rem;">
        <div class="row">
            <div class="col-sm" style="padding:30px;">
                <label style=" margin-right: 12px;">
                    <h5>Machine type</h5>
                </label>
                <select [(ngModel)]="MachineType" class="form-select" (change)="MachineEquipmentSelect()"
                    class="form-control">
                    <option value="">Choose..</option>
                    <option value="Compressor" selected>Compressor</option>
                    <option value="Pump" selected>Pump</option>
                </select>
            </div>
            <div class="col-sm" style="padding:30px;">
                <label style=" margin-right: 12px;">
                    <h5>Equipment Type</h5>
                </label>
                <select [(ngModel)]="EquipmentType" class="form-select" (change)="MachineEquipmentSelect()"
                    class="form-control">
                    <option value="">Choose..</option>
                    <option *ngFor="let EL of EquipmentList" [ngValue]="EL">{{EL}}</option>
                </select>
            </div>
            <div class="col-sm" style="padding:30px;">
                <label style=" margin-right: 12px;">
                    <h5>Tag Number</h5>
                </label>
                <select class="form-select" [(ngModel)]="SelectedTagNumber" class="form-control">
                    <option value="">Choose..</option>
                    <option *ngFor="let EL of TagList" [ngValue]="EL">{{EL}}</option>
                </select>
            </div>
            <div class="col-sm" style="padding:30px;">
                <div class="row">
                    <div class="col-sm" style="padding:30px;">
                        <a class="btn btn-dark" (click)="getRecordsByEqui()">Done</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="CostRisk">
        <div class="card" style="margin: 20px;"
            *ngFor="let row of prescriptiveRecords.centrifugalPumpPrescriptiveFailureModes">
            <div style="text-align: center">
                <h5><b>Cost Benifit Risk Anyalysis</b> </h5>
            </div><br>
            <div class="container" style="margin: 10px;">
                <div class="row">
                    <div class="card">
                        <div class="col-sm">
                            <b>Total PONC: {{row.TotalPONC}} K</b>
                        </div>
                    </div>
                    <div class="col col-lg-2"></div>
                    <div class="card">
                        <div class="col-sm">
                            <b>ETBF: {{row.ETBF}} Y</b>
                        </div>
                    </div>
                    <div class="col-sm"> </div>
                </div>
            </div>
            <br><br>
            <div class="container">
                <div class="row">
                    <div class="card">
                        <div class="col-sm">
                            <b>Criticality Maintenance Factor : M</b>
                        </div>
                    </div>
                    <div class="col-sm"></div>
                    <div class="card">
                        <div class="col-sm">
                            <b>Cost Without DPM (Total Cost): {{row.EconomicRiskWithoutMaintenance}} K</b>
                        </div>
                    </div>
                    <div class="col-sm"></div>
                    <div class="card">
                        <div class="col-sm">
                            <b>Cost With DPM (Total Cost): {{row.ResidualRiskWithMaintenance}} K</b>
                        </div>
                    </div>
                </div>
            </div><br>
            <div class="row">
                <div class="col-sm" style="margin: 20px;">
                    <div class="card">
                        <b>With D.P.M. MEI </b>
                        <canvas id="gaugechart"></canvas>
                        <h1 style="text-align: center;color: blue;">{{DPMMEI}}</h1>
                    </div>
                </div>
                <div class="col-sm" style="margin: 20px;">
                    <div class="card">
                        <b>Without D.P.M. MEI</b>
                        <div style="display: block">
                            <canvas id="canvasDPM"></canvas>
                            <h1 style="text-align: center;color: red;">{{DPMWithoutMEI}}</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <br><br>
    <div *ngIf="PrescriptiveMaintenance">
    <div class="card shadow div-in-middle" style="width: 70rem;">
        <div style="text-align: center">
            <h5><b> Prescriptive & Maintainenance</b> </h5>
        </div><br>
        <div class="row">
            <div class="col-sm" style="margin: 10px;">
                <div class="card">
                    <strong style="text-align: center;">Component Criticality Factor</strong>
                    <h1 style="text-align: center;color: darkblue;">{{ComponentCriticalityFactor}}</h1>
                    <canvas id="ComponentCriticalityFactor"></canvas>
                </div>
            </div>
            <div class="col-sm" style="margin: 10px;">
                 <div class="card">
                    <strong style="text-align: center;">Component Rating </strong><br>
                    <h1 style="text-align: center;color: darkblue">{{ComponentRating}}</h1>
                </div> 
            </div>
        </div>
        <div class="row">
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <strong style="text-align: center;">Frequency Maintainenance </strong><br>
                    <h5 style="text-align: center;color: darkblue;">{{CFrequencyMaintainenance}}</h5>
                </div>
            </div>
            <div class="col-sm" style="margin: 20px;">
                <div class="card">
                    <strong style="text-align: center;">Condition Monitoring </strong><br>
                    <h5 style="text-align: center;color: brown;">{{CConditionMonitoring}}</h5>
                </div>
            </div>
        </div>
    </div>
    </div>
   